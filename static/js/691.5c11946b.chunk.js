"use strict";(self.webpackChunkcrypto_viz=self.webpackChunkcrypto_viz||[]).push([[691],{691:(t,n,e)=>{function r(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function o(t){let n,e,o;function c(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=r,e=(n,e)=>r(t(n),e),o=(n,e)=>t(n)-e):(n=t===r||t===i?t:a,e=t,o=t),{left:c,center:function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=c(t,n,e,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return r>e&&o(t[r-1],n)>-o(t[r],n)?r-1:r},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function a(){return 0}function c(t){return null===t?NaN:+t}e.d(n,{bU:()=>rk,Mu:()=>ak,QI:()=>Jx,Wn:()=>Fv,OJ:()=>d_,uN:()=>Wx});const l=o(r),f=l.right,s=(l.left,o(c).center,f);function u(t){return 0|t.length}function h(t){return!(t>0)}function d(t){return"object"!==typeof t||"length"in t?t:Array.from(t)}function p(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}function g(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let a of t)null!=a&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i));else{let a=-1;for(let c of t)null!=(c=n(c,++a,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,o+=e*(c-i))}if(r>1)return o/(r-1)}function y(t,n){const e=g(t,n);return e?Math.sqrt(e):e}function b(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class m extends Map{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(_(this,t))}has(t){return super.has(_(this,t))}set(t,n){return super.set(x(this,t),n)}delete(t){return super.delete(w(this,t))}}class v extends Set{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(_(this,t))}add(t){return super.add(x(this,t))}delete(t){return super.delete(w(this,t))}}function _(t,n){let{_intern:e,_key:r}=t;const i=r(n);return e.has(i)?e.get(i):n}function x(t,n){let{_intern:e,_key:r}=t;const i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function w(t,n){let{_intern:e,_key:r}=t;const i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function k(t){return null!==t&&"object"===typeof t?t.valueOf():t}function M(t){return t}function $(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return S(t,M,M,e)}function A(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return S(t,M,n,r)}function T(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return S(t,Array.from,n,r)}function S(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new m,c=r[o++];let l=-1;for(const n of i){const t=c(n,++l,i),e=a.get(t);e?e.push(n):a.set(t,[n])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function E(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[i]=e;if(i&&2!==i.length||e.length>1){const n=Uint32Array.from(t,((t,n)=>n));return e.length>1?(e=e.map((n=>t.map(n))),n.sort(((t,n)=>{for(const r of e){const e=C(r[t],r[n]);if(e)return e}}))):(i=t.map(i),n.sort(((t,n)=>C(i[t],i[n])))),o=t,a=n,Array.from(a,(t=>o[t]))}var o,a;return t.sort(N(i))}function N(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(t===r)return C;if("function"!==typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function C(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function L(t,n,e){return(2!==n.length?E(A(t,n,e),((t,n)=>{let[e,i]=t,[o,a]=n;return r(i,a)||r(e,o)})):E($(t,e),((t,e)=>{let[i,o]=t,[a,c]=e;return n(o,c)||r(i,a)}))).map((t=>{let[n]=t;return n}))}function z(t,n){let e=0;if(void 0===n)for(let r of t)null!=r&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function D(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function O(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function F(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?C:N(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,c=Math.log(o),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(o-l)/o)*(a-o/2<0?-1:1);F(t,n,Math.max(e,Math.floor(n-a*l/o+f)),Math.min(r,Math.floor(n+(o-a)*l/o+f)),i)}const o=t[n];let a=e,c=r;for(j(t,e,n),i(t[r],o)>0&&j(t,e,r);a<c;){for(j(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}0===i(t[e],o)?j(t,e,c):(++c,j(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function j(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function R(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return O(t);if(n>=1)return D(t);var r,i=(r-1)*n,o=Math.floor(i),a=D(F(t,o).subarray(0,o+1));return a+(O(t.subarray(o+1))-a)*(i-o)}}function U(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function P(t,n,e){const r=z(t),i=R(t,.75)-R(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function I(t,n,e){const r=z(t),i=y(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function q(t){return Math.max(1,Math.ceil(Math.log(z(t))/Math.LN2)+1)}function B(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function W(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function H(t,n){return R(t,.5,n)}function Y(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function V(t,n){const e=new m;if(void 0===n)for(let o of t)null!=o&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function X(t,n){return[t,n]}function Z(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function G(t){let n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(i?r(t,o)>0:0===r(t,t))&&(n=a,o=t,i=!0)}}else for(const r of t)(i?e(r,n)>0:0===e(r,r))&&(n=r,i=!0);return n}function Q(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}const J=Math.sqrt(50),K=Math.sqrt(10),tt=Math.sqrt(2);function nt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=J?10:o>=K?5:o>=tt?2:1;let c,l,f;return i<0?(f=Math.pow(10,-i)/a,c=Math.round(t*f),l=Math.round(n*f),c/f<t&&++c,l/f>n&&--l,f=-f):(f=Math.pow(10,i)*a,c=Math.round(t/f),l=Math.round(n/f),c*f<t&&++c,l*f>n&&--l),l<c&&.5<=e&&e<2?nt(t,n,2*e):[c,l,f]}function et(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,a]=r?nt(n,t,e):nt(t,n,e);if(!(o>=i))return[];const c=o-i+1,l=new Array(c);if(r)if(a<0)for(let f=0;f<c;++f)l[f]=(o-f)/-a;else for(let f=0;f<c;++f)l[f]=(o-f)*a;else if(a<0)for(let f=0;f<c;++f)l[f]=(i+f)/-a;else for(let f=0;f<c;++f)l[f]=(i+f)*a;return l}function rt(t,n,e){return nt(t=+t,n=+n,e=+e)[2]}function ot(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?rt(n,t,e):rt(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function at(t){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function ct(t){return t}var lt=1e-6;function ft(t){return"translate("+t+",0)"}function st(t){return"translate(0,"+t+")"}function ut(t){return n=>+t(n)}function ht(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function dt(){return!this.__axis}function pt(t,n){var e=[],r=null,i=null,o=6,a=6,c=3,l="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,f=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",u=1===t||3===t?ft:st;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):ct:i,g=Math.max(o,0)+c,y=n.range(),b=+y[0]+l,m=+y[y.length-1]+l,v=(n.bandwidth?ht:ut)(n.copy(),l),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,n).order(),k=w.exit(),M=w.enter().append("g").attr("class","tick"),$=w.select("line"),A=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(s+"2",f*o)),A=A.merge(M.append("text").attr("fill","currentColor").attr(s,f*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),$=$.transition(h),A=A.transition(h),k=k.transition(h).attr("opacity",lt).attr("transform",(function(t){return isFinite(t=v(t))?u(t+l):this.getAttribute("transform")})),M.attr("opacity",lt).attr("transform",(function(t){var n=this.parentNode.__axis;return u((n&&isFinite(n=n(t))?n:v(t))+l)}))),k.remove(),x.attr("d",4===t||2===t?a?"M"+f*a+","+b+"H"+l+"V"+m+"H"+f*a:"M"+l+","+b+"V"+m:a?"M"+b+","+f*a+"V"+l+"H"+m+"V"+f*a:"M"+b+","+l+"H"+m),w.attr("opacity",1).attr("transform",(function(t){return u(v(t)+l)})),$.attr(s+"2",f*o),A.attr(s,f*g).text(p),_.filter(dt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(c=+t,h):c},h.offset=function(t){return arguments.length?(l=+t,h):l},h}function gt(){}function yt(t){return null==t?gt:function(){return this.querySelector(t)}}function bt(){return[]}function mt(t){return null==t?bt:function(){return this.querySelectorAll(t)}}function vt(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function _t(t){return function(){return this.matches(t)}}function xt(t){return function(n){return n.matches(t)}}var wt=Array.prototype.find;function kt(){return this.firstElementChild}var Mt=Array.prototype.filter;function $t(){return Array.from(this.children)}function At(t){return new Array(t.length)}function Tt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function St(t,n,e,r,i,o){for(var a,c=0,l=n.length,f=o.length;c<f;++c)(a=n[c])?(a.__data__=o[c],r[c]=a):e[c]=new Tt(t,o[c]);for(;c<l;++c)(a=n[c])&&(i[c]=a)}function Et(t,n,e,r,i,o,a){var c,l,f,s=new Map,u=n.length,h=o.length,d=new Array(u);for(c=0;c<u;++c)(l=n[c])&&(d[c]=f=a.call(l,l.__data__,c,n)+"",s.has(f)?i[c]=l:s.set(f,l));for(c=0;c<h;++c)f=a.call(t,o[c],c,o)+"",(l=s.get(f))?(r[c]=l,l.__data__=o[c],s.delete(f)):e[c]=new Tt(t,o[c]);for(c=0;c<u;++c)(l=n[c])&&s.get(d[c])===l&&(i[c]=l)}function Nt(t){return t.__data__}function Ct(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Lt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var zt="http://www.w3.org/1999/xhtml";const Dt={svg:"http://www.w3.org/2000/svg",xhtml:zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ot(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Dt.hasOwnProperty(n)?{space:Dt[n],local:t}:t}function Ft(t){return function(){this.removeAttribute(t)}}function jt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rt(t,n){return function(){this.setAttribute(t,n)}}function Ut(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Pt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function It(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function qt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bt(t){return function(){this.style.removeProperty(t)}}function Wt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ht(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Yt(t,n){return t.style.getPropertyValue(n)||qt(t).getComputedStyle(t,null).getPropertyValue(n)}function Vt(t){return function(){delete this[t]}}function Xt(t,n){return function(){this[t]=n}}function Zt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Gt(t){return t.trim().split(/^|\s+/)}function Qt(t){return t.classList||new Jt(t)}function Jt(t){this._node=t,this._names=Gt(t.getAttribute("class")||"")}function Kt(t,n){for(var e=Qt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function tn(t,n){for(var e=Qt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function nn(t){return function(){Kt(this,t)}}function en(t){return function(){tn(this,t)}}function rn(t,n){return function(){(n.apply(this,arguments)?Kt:tn)(this,t)}}function on(){this.textContent=""}function an(t){return function(){this.textContent=t}}function cn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ln(){this.innerHTML=""}function fn(t){return function(){this.innerHTML=t}}function sn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function un(){this.nextSibling&&this.parentNode.appendChild(this)}function hn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===zt&&n.documentElement.namespaceURI===zt?n.createElement(t):n.createElementNS(e,t)}}function pn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gn(t){var n=Ot(t);return(n.local?pn:dn)(n)}function yn(){return null}function bn(){var t=this.parentNode;t&&t.removeChild(this)}function mn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function _n(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function xn(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function wn(t,n,e){var r=qt(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function kn(t,n){return function(){return wn(this,t,n)}}function Mn(t,n){return function(){return wn(this,t,n.apply(this,arguments))}}Jt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $n=[null];function An(t,n){this._groups=t,this._parents=n}function Tn(){return new An([[document.documentElement]],$n)}An.prototype=Tn.prototype={constructor:An,select:function(t){"function"!==typeof t&&(t=yt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,c=n[i],l=c.length,f=r[i]=new Array(l),s=0;s<l;++s)(o=c[s])&&(a=t.call(o,o.__data__,s,c))&&("__data__"in o&&(a.__data__=o.__data__),f[s]=a);return new An(r,this._parents)},selectAll:function(t){t="function"===typeof t?vt(t):mt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],l=c.length,f=0;f<l;++f)(a=c[f])&&(r.push(t.call(a,a.__data__,f,c)),i.push(a));return new An(r,i)},selectChild:function(t){return this.select(null==t?kt:function(t){return function(){return wt.call(this.children,t)}}("function"===typeof t?t:xt(t)))},selectChildren:function(t){return this.selectAll(null==t?$t:function(t){return function(){return Mt.call(this.children,t)}}("function"===typeof t?t:xt(t)))},filter:function(t){"function"!==typeof t&&(t=_t(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,l=r[i]=[],f=0;f<c;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&l.push(o);return new An(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Nt);var e,r=n?Et:St,i=this._parents,o=this._groups;"function"!==typeof t&&(e=t,t=function(){return e});for(var a=o.length,c=new Array(a),l=new Array(a),f=new Array(a),s=0;s<a;++s){var u=i[s],h=o[s],d=h.length,p=Ct(t.call(u,u&&u.__data__,s,i)),g=p.length,y=l[s]=new Array(g),b=c[s]=new Array(g);r(u,h,y,b,f[s]=new Array(d),p,n);for(var m,v,_=0,x=0;_<g;++_)if(m=y[_]){for(_>=x&&(x=_+1);!(v=b[x])&&++x<g;);m._next=v||null}}return(c=new An(c,i))._enter=l,c._exit=f,c},enter:function(){return new An(this._enter||this._groups.map(At),this._parents)},exit:function(){return new An(this._exit||this._groups.map(At),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"===typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),c=new Array(i),l=0;l<a;++l)for(var f,s=e[l],u=r[l],h=s.length,d=c[l]=new Array(h),p=0;p<h;++p)(f=s[p]||u[p])&&(d[p]=f);for(;l<i;++l)c[l]=e[l];return new An(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Lt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],l=c.length,f=i[o]=new Array(l),s=0;s<l;++s)(a=c[s])&&(f[s]=a);f.sort(n)}return new An(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Ot(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?jt:Ft:"function"===typeof n?e.local?It:Pt:e.local?Ut:Rt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Bt:"function"===typeof n?Ht:Wt)(t,n,null==e?"":e)):Yt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Vt:"function"===typeof n?Zt:Xt)(t,n)):this.node()[t]},classed:function(t,n){var e=Gt(t+"");if(arguments.length<2){for(var r=Qt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?rn:n?nn:en)(e,n))},text:function(t){return arguments.length?this.each(null==t?on:("function"===typeof t?cn:an)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ln:("function"===typeof t?sn:fn)(t)):this.node().innerHTML},raise:function(){return this.each(un)},lower:function(){return this.each(hn)},append:function(t){var n="function"===typeof t?t:gn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"===typeof t?t:gn(t),r=null==n?yn:"function"===typeof n?n:yt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bn)},clone:function(t){return this.select(t?vn:mn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(c=n?xn:_n,r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var l,f=0,s=c.length;f<s;++f)for(r=0,l=c[f];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"===typeof n?Mn:kn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Sn=Tn;var En={value:()=>{}};function Nn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Cn(r)}function Cn(t){this._=t}function Ln(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function zn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=En,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Cn.prototype=Nn.prototype={constructor:Cn,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,c=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);for(;++a<c;)if(e=(t=o[a]).type)i[e]=zn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=zn(i[e],t.name,null);return this}for(;++a<c;)if((e=(t=o[a]).type)&&(e=Ln(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Cn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const Dn=Nn;var On,Fn,jn=0,Rn=0,Un=0,Pn=0,In=0,qn=0,Bn="object"===typeof performance&&performance.now?performance:Date,Wn="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hn(){return In||(Wn(Yn),In=Bn.now()+qn)}function Yn(){In=0}function Vn(){this._call=this._time=this._next=null}function Xn(t,n,e){var r=new Vn;return r.restart(t,n,e),r}function Zn(){In=(Pn=Bn.now())+qn,jn=Rn=0;try{!function(){Hn(),++jn;for(var t,n=On;n;)(t=In-n._time)>=0&&n._call.call(void 0,t),n=n._next;--jn}()}finally{jn=0,function(){var t,n,e=On,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:On=n);Fn=t,Qn(r)}(),In=0}}function Gn(){var t=Bn.now(),n=t-Pn;n>1e3&&(qn-=n,Pn=t)}function Qn(t){jn||(Rn&&(Rn=clearTimeout(Rn)),t-In>24?(t<1/0&&(Rn=setTimeout(Zn,t-Bn.now()-qn)),Un&&(Un=clearInterval(Un))):(Un||(Pn=Bn.now(),Un=setInterval(Gn,1e3)),jn=1,Wn(Zn)))}function Jn(t,n,e){var r=new Vn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Vn.prototype=Xn.prototype={constructor:Vn,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?Hn():+e)+(null==n?0:+n),this._next||Fn===this||(Fn?Fn._next=this:On=this,Fn=this),this._call=t,this._time=e,Qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qn())}};var Kn=Dn("start","end","cancel","interrupt"),te=[];function ne(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var f,s,u,h;if(1!==e.state)return l();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return Jn(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Jn((function(){3===e.state&&(e.state=4,e.timer.restart(c,e.delay,e.time),c(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(u=e.tween.length),f=0,s=-1;f<u;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Xn(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Kn,tween:te,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ee(t,n){var e=ie(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function re(t,n){var e=ie(t,n);if(e.state>3)throw new Error("too late; already running");return e}function ie(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function oe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var ae,ce=180/Math.PI,le={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fe(t,n,e,r,i,o){var a,c,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,l/=c),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ce,skewX:Math.atan(l)*ce,scaleX:a,scaleY:c}}function se(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var c=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,c){if(t!==i||r!==o){var l=a.push("translate(",null,n,null,e);c.push({i:l-4,x:oe(t,i)},{i:l-2,x:oe(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,c,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:oe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,c,l),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:oe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,c,l),function(t,n,e,r,o,a){if(t!==e||n!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:oe(t,e)},{i:c-2,x:oe(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,c,l),o=a=null,function(t){for(var n,e=-1,r=l.length;++e<r;)c[(n=l[e]).i]=n.x(t);return c.join("")}}}var ue=se((function(t){const n=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?le:fe(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),he=se((function(t){return null==t?le:(ae||(ae=document.createElementNS("http://www.w3.org/2000/svg","g")),ae.setAttribute("transform",t),(t=ae.transform.baseVal.consolidate())?fe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):le)}),", ",")",")");function de(t,n){var e,r;return function(){var i=re(this,t),o=i.tween;if(o!==e)for(var a=0,c=(r=e=o).length;a<c;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function pe(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=re(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},l=0,f=i.length;l<f;++l)if(i[l].name===n){i[l]=c;break}l===f&&i.push(c)}o.tween=i}}function ge(t,n,e){var r=t._id;return t.each((function(){var t=re(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ie(t,r).value[n]}}function ye(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function be(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function me(){}var ve=.7,_e=1/ve,xe="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Me=/^#([0-9a-f]{3,8})$/,$e=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),Ae=new RegExp(`^rgb\\(${ke},${ke},${ke}\\)$`),Te=new RegExp(`^rgba\\(${xe},${xe},${xe},${we}\\)$`),Se=new RegExp(`^rgba\\(${ke},${ke},${ke},${we}\\)$`),Ee=new RegExp(`^hsl\\(${we},${ke},${ke}\\)$`),Ne=new RegExp(`^hsla\\(${we},${ke},${ke},${we}\\)$`),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Le(){return this.rgb().formatHex()}function ze(){return this.rgb().formatRgb()}function De(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Me.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Oe(n):3===e?new Ue(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Fe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Fe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=$e.exec(t))?new Ue(n[1],n[2],n[3],1):(n=Ae.exec(t))?new Ue(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Te.exec(t))?Fe(n[1],n[2],n[3],n[4]):(n=Se.exec(t))?Fe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ee.exec(t))?He(n[1],n[2]/100,n[3]/100,1):(n=Ne.exec(t))?He(n[1],n[2]/100,n[3]/100,n[4]):Ce.hasOwnProperty(t)?Oe(Ce[t]):"transparent"===t?new Ue(NaN,NaN,NaN,0):null}function Oe(t){return new Ue(t>>16&255,t>>8&255,255&t,1)}function Fe(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ue(t,n,e,r)}function je(t){return t instanceof me||(t=De(t)),t?new Ue((t=t.rgb()).r,t.g,t.b,t.opacity):new Ue}function Re(t,n,e,r){return 1===arguments.length?je(t):new Ue(t,n,e,null==r?1:r)}function Ue(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Pe(){return`#${We(this.r)}${We(this.g)}${We(this.b)}`}function Ie(){const t=qe(this.opacity);return`${1===t?"rgb(":"rgba("}${Be(this.r)}, ${Be(this.g)}, ${Be(this.b)}${1===t?")":`, ${t})`}`}function qe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Be(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function We(t){return((t=Be(t))<16?"0":"")+t.toString(16)}function He(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xe(t,n,e,r)}function Ye(t){if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);if(t instanceof me||(t=De(t)),!t)return new Xe;if(t instanceof Xe)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,l=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=l<.5?o+i:2-o-i,a*=60):c=l>0&&l<1?0:a,new Xe(a,c,l,t.opacity)}function Ve(t,n,e,r){return 1===arguments.length?Ye(t):new Xe(t,n,e,null==r?1:r)}function Xe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ze(t){return(t=(t||0)%360)<0?t+360:t}function Ge(t){return Math.max(0,Math.min(1,t||0))}function Qe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Je(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}ye(me,De,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Le,formatHex:Le,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ye(this).formatHsl()},formatRgb:ze,toString:ze}),ye(Ue,Re,be(me,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ue(Be(this.r),Be(this.g),Be(this.b),qe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pe,formatHex:Pe,formatHex8:function(){return`#${We(this.r)}${We(this.g)}${We(this.b)}${We(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ie,toString:Ie})),ye(Xe,Ve,be(me,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new Xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new Xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ue(Qe(t>=240?t-240:t+120,i,r),Qe(t,i,r),Qe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xe(Ze(this.h),Ge(this.s),Ge(this.l),qe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qe(this.opacity);return`${1===t?"hsl(":"hsla("}${Ze(this.h)}, ${100*Ge(this.s)}%, ${100*Ge(this.l)}%${1===t?")":`, ${t})`}`}}));const Ke=t=>()=>t;function tr(t,n){return function(e){return t+e*n}}function nr(t,n){var e=n-t;return e?tr(t,e>180||e<-180?e-360*Math.round(e/360):e):Ke(isNaN(t)?n:t)}function er(t){return 1===(t=+t)?rr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ke(isNaN(n)?e:n)}}function rr(t,n){var e=n-t;return e?tr(t,e):Ke(isNaN(t)?n:t)}const ir=function t(n){var e=er(n);function r(t,n){var r=e((t=Re(t)).r,(n=Re(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=rr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function or(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=Re(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}var ar=or((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return Je((e-r/n)*n,a,i,o,c)}})),cr=(or((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],c=t[(r+2)%n];return Je((e-r/n)*n,i,o,a,c)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),lr=new RegExp(cr.source,"g");function fr(t,n){var e,r,i,o=cr.lastIndex=lr.lastIndex=0,a=-1,c=[],l=[];for(t+="",n+="";(e=cr.exec(t))&&(r=lr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,l.push({i:a,x:oe(e,r)})),o=lr.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),c.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)c[(e=l[r]).i]=e.x(t);return c.join("")})}function sr(t,n){var e;return("number"===typeof n?oe:n instanceof De?ir:(e=De(n))?(n=e,ir):fr)(t,n)}function ur(t){return function(){this.removeAttribute(t)}}function hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function pr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function gr(t,n,e){var r,i,o;return function(){var a,c,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(c=l+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,l));this.removeAttribute(t)}}function yr(t,n,e){var r,i,o;return function(){var a,c,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(c=l+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,l));this.removeAttributeNS(t.space,t.local)}}function br(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function mr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function vr(t,n){return function(){ee(this,t).delay=+n.apply(this,arguments)}}function _r(t,n){return n=+n,function(){ee(this,t).delay=n}}function xr(t,n){return function(){re(this,t).duration=+n.apply(this,arguments)}}function wr(t,n){return n=+n,function(){re(this,t).duration=n}}var kr=Sn.prototype.constructor;function Mr(t){return function(){this.style.removeProperty(t)}}var $r=0;function Ar(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Tr(){return++$r}var Sr=Sn.prototype;Ar.prototype=function(t){return Sn().transition(t)}.prototype={constructor:Ar,select:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=yt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,l,f=r[a],s=f.length,u=o[a]=new Array(s),h=0;h<s;++h)(c=f[h])&&(l=t.call(c,c.__data__,h,f))&&("__data__"in c&&(l.__data__=c.__data__),u[h]=l,ne(u[h],n,e,h,u,ie(c,e)));return new Ar(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var l,f=r[c],s=f.length,u=0;u<s;++u)if(l=f[u]){for(var h,d=t.call(l,l.__data__,u,f),p=ie(l,e),g=0,y=d.length;g<y;++g)(h=d[g])&&ne(h,n,e,g,d,p);o.push(d),a.push(l)}return new Ar(o,a,n,e)},selectChild:Sr.selectChild,selectChildren:Sr.selectChildren,filter:function(t){"function"!==typeof t&&(t=_t(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,l=r[i]=[],f=0;f<c;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&l.push(o);return new Ar(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var l,f=n[c],s=e[c],u=f.length,h=a[c]=new Array(u),d=0;d<u;++d)(l=f[d]||s[d])&&(h[d]=l);for(;c<r;++c)a[c]=n[c];return new Ar(a,this._parents,this._name,this._id)},selection:function(){return new kr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Tr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],l=c.length,f=0;f<l;++f)if(a=c[f]){var s=ie(a,n);ne(a,t,e,f,c,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Ar(r,this._parents,t,e)},call:Sr.call,nodes:Sr.nodes,node:Sr.node,size:Sr.size,empty:Sr.empty,each:Sr.each,on:function(t,n){var e=this._id;return arguments.length<2?ie(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ee:re;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Ot(t),r="transform"===e?he:sr;return this.attrTween(t,"function"===typeof n?(e.local?yr:gr)(e,r,ge(this,"attr."+t,n)):null==n?(e.local?hr:ur)(e):(e.local?pr:dr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Ot(t);return this.tween(e,(r.local?br:mr)(r,n))},style:function(t,n,e){var r="transform"===(t+="")?ue:sr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Yt(this,t),a=(this.style.removeProperty(t),Yt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Mr(t)):"function"===typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Yt(this,t),c=e(this),l=c+"";return null==c&&(this.style.removeProperty(t),l=c=Yt(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,c))}}(t,r,ge(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,c="end."+a;return function(){var l=re(this,t),f=l.on,s=null==l.value[a]?o||(o=Mr(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(c,i=s),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Yt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ge(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ie(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?de:pe)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?vr:_r)(n,t)):ie(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?xr:wr)(n,t)):ie(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!==typeof n)throw new Error;return function(){re(this,t).ease=n}}(n,t)):ie(this.node(),n).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!==typeof e)throw new Error;re(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var c={value:a},l={value:function(){0===--i&&o()}};e.each((function(){var e=re(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(l)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:Sr[Symbol.iterator]};var Er={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Nr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Sn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Sn.prototype.transition=function(t){var n,e;t instanceof Ar?(n=t._id,t=t._name):(n=Tr(),(e=Er).time=Hn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],l=c.length,f=0;f<l;++f)(a=c[f])&&ne(a,t,n,f,c,e||Nr(a,n));return new Ar(r,this._parents,t,n)};const{abs:Cr,max:Lr,min:zr}=Math;function Dr(t){return[+t[0],+t[1]]}function Or(t){return[Dr(t[0]),Dr(t[1])]}["w","e"].map(Fr),["n","s"].map(Fr),["n","w","e","s","nw","ne","sw","se"].map(Fr);function Fr(t){return{type:t}}function jr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Rr(t){return(t=jr(Math.abs(t)))?t[1]:NaN}var Ur,Pr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ir(t){if(!(n=Pr.exec(t)))throw new Error("invalid format: "+t);var n;return new qr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function qr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Br(t,n){var e=jr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ir.prototype=qr.prototype,qr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Br(100*t,n),r:Br,s:function(t,n){var e=jr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ur=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hr(t){return t}var Yr,Vr,Xr,Zr=Array.prototype.map,Gr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Qr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Hr:(n=Zr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,c=n[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),o.push(t.substring(i-=c,i+c)),!((l+=c+1)>r));)c=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Hr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Zr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"\u2212":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function u(t){var n=(t=Ir(t)).fill,e=t.align,u=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,b=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Wr[m]||(void 0===y&&(y=12),b=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?l:"",x=Wr[m],w=/[defgprs%]/.test(m);function k(t){var i,o,l,h=v,k=_;if("c"===m)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),y),b&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0===+t&&"+"!==u&&(M=!1),h=(M?"("===u?u:f:"-"===u||"("===u?"":u)+h,k=("s"===m?Gr[8+Ur/3]:"")+k+(M&&"("===u?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var $=h.length+t.length+k.length,A=$<p?new Array(p-$+1).join(n):"";switch(g&&d&&(t=r(A+t,A.length?p-k.length:1/0),A=""),e){case"<":t=h+t+k+A;break;case"=":t=h+A+t+k;break;case"^":t=A.slice(0,$=A.length>>1)+h+t+k+A.slice($);break;default:t=A+h+t+k}return c(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:u,formatPrefix:function(t,n){var e=u(((t=Ir(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Rr(n)/3))),i=Math.pow(10,-r),o=Gr[8+r/3];return function(t){return e(i*t)+o}}}}Yr=Qr({thousands:",",grouping:[3],currency:["$",""]}),Vr=Yr.format,Xr=Yr.formatPrefix;var Jr=1e-6,Kr=1e-12,ti=Math.PI,ni=ti/2,ei=ti/4,ri=2*ti,ii=180/ti,oi=ti/180,ai=Math.abs,ci=Math.atan,li=Math.atan2,fi=Math.cos,si=(Math.ceil,Math.exp),ui=(Math.floor,Math.hypot,Math.log),hi=Math.pow,di=Math.sin,pi=Math.sign||function(t){return t>0?1:t<0?-1:0},gi=Math.sqrt,yi=Math.tan;function bi(t){return t>1?0:t<-1?ti:Math.acos(t)}function mi(t){return t>1?ni:t<-1?-ni:Math.asin(t)}function vi(){}function _i(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:vi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function xi(t,n){return ai(t[0]-n[0])<Jr&&ai(t[1]-n[1])<Jr}function wi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function ki(t,n,e,r,i){var o,a,c=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(xi(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Jr}c.push(e=new wi(r,t,null,!0)),l.push(e.o=new wi(r,null,e,!1)),c.push(e=new wi(a,t,null,!1)),l.push(e.o=new wi(a,null,e,!0))}})),c.length){for(l.sort(n),Mi(c),Mi(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var f,s,u=c[0];;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=f.length;o<a;++o)i.point((s=f[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Mi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function $i(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var Ai=1e9,Ti=-Ai;function Si(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,c,f){var s=0,u=0;if(null==i||(s=a(i,c))!==(u=a(o,c))||l(i,o)<0^c>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+c+4)%4)!==u);else f.point(o[0],o[1])}function a(r,i){return ai(r[0]-t)<Jr?i>0?0:3:ai(r[0]-e)<Jr?i>0?2:1:ai(r[1]-n)<Jr?i>0?1:0:i>0?3:2}function c(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,f,s,u,h,d,p,g,y,b,m,v=a,_=_i(),x={point:w,lineStart:function(){x.point=k,f&&f.push(s=[]);b=!0,y=!1,p=g=NaN},lineEnd:function(){l&&(k(u,h),d&&y&&_.rejoin(),l.push(_.result()));x.point=w,y&&v.lineEnd()},polygonStart:function(){v=_,l=[],f=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,a,c=f[e],l=1,s=c.length,u=c[0],h=u[0],d=u[1];l<s;++l)o=h,a=d,h=(u=c[l])[0],d=u[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=m&&n,i=(l=$i(l)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ki(l,c,n,o,a),a.polygonEnd());v=a,l=f=s=null}};function w(t,n){i(t,n)&&v.point(t,n)}function k(o,a){var c=i(o,a);if(f&&s.push([o,a]),b)u=o,h=a,d=c,b=!1,c&&(v.lineStart(),v.point(o,a));else if(c&&y)v.point(o,a);else{var l=[p=Math.max(Ti,Math.min(Ai,p)),g=Math.max(Ti,Math.min(Ai,g))],_=[o=Math.max(Ti,Math.min(Ai,o)),a=Math.max(Ti,Math.min(Ai,a))];!function(t,n,e,r,i,o){var a,c=t[0],l=t[1],f=0,s=1,u=n[0]-c,h=n[1]-l;if(a=e-c,u||!(a>0)){if(a/=u,u<0){if(a<f)return;a<s&&(s=a)}else if(u>0){if(a>s)return;a>f&&(f=a)}if(a=i-c,u||!(a<0)){if(a/=u,u<0){if(a>s)return;a>f&&(f=a)}else if(u>0){if(a<f)return;a<s&&(s=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>f&&(f=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<s&&(s=a)}return f>0&&(t[0]=c+f*u,t[1]=l+f*h),s<1&&(n[0]=c+s*u,n[1]=l+s*h),!0}}}}}(l,_,t,n,e,r)?c&&(v.lineStart(),v.point(o,a),m=!1):(y||(v.lineStart(),v.point(l[0],l[1])),v.point(_[0],_[1]),c||v.lineEnd(),m=!1)}p=o,g=a,y=c}return x}}const Ei=t=>t;function Ni(t,n){t&&Li.hasOwnProperty(t.type)&&Li[t.type](t,n)}var Ci={Feature:function(t,n){Ni(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ni(e[r].geometry,n)}},Li={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){zi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)zi(e[r],n,0)},Polygon:function(t,n){Di(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Di(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ni(e[r],n)}};function zi(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Di(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)zi(t[e],n,1);n.polygonEnd()}function Oi(t,n){t&&Ci.hasOwnProperty(t.type)?Ci[t.type](t,n):Ni(t,n)}class Fi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var ji,Ri,Ui,Pi,Ii=new Fi,qi=new Fi,Bi={point:vi,lineStart:vi,lineEnd:vi,polygonStart:function(){Bi.lineStart=Wi,Bi.lineEnd=Vi},polygonEnd:function(){Bi.lineStart=Bi.lineEnd=Bi.point=vi,Ii.add(ai(qi)),qi=new Fi},result:function(){var t=Ii/2;return Ii=new Fi,t}};function Wi(){Bi.point=Hi}function Hi(t,n){Bi.point=Yi,ji=Ui=t,Ri=Pi=n}function Yi(t,n){qi.add(Pi*t-Ui*n),Ui=t,Pi=n}function Vi(){Yi(ji,Ri)}const Xi=Bi;var Zi=1/0,Gi=Zi,Qi=-Zi,Ji=Qi,Ki={point:function(t,n){t<Zi&&(Zi=t);t>Qi&&(Qi=t);n<Gi&&(Gi=n);n>Ji&&(Ji=n)},lineStart:vi,lineEnd:vi,polygonStart:vi,polygonEnd:vi,result:function(){var t=[[Zi,Gi],[Qi,Ji]];return Qi=Ji=-(Gi=Zi=1/0),t}};const to=Ki;var no,eo,ro,io,oo=0,ao=0,co=0,lo=0,fo=0,so=0,uo=0,ho=0,po=0,go={point:yo,lineStart:bo,lineEnd:_o,polygonStart:function(){go.lineStart=xo,go.lineEnd=wo},polygonEnd:function(){go.point=yo,go.lineStart=bo,go.lineEnd=_o},result:function(){var t=po?[uo/po,ho/po]:so?[lo/so,fo/so]:co?[oo/co,ao/co]:[NaN,NaN];return oo=ao=co=lo=fo=so=uo=ho=po=0,t}};function yo(t,n){oo+=t,ao+=n,++co}function bo(){go.point=mo}function mo(t,n){go.point=vo,yo(ro=t,io=n)}function vo(t,n){var e=t-ro,r=n-io,i=gi(e*e+r*r);lo+=i*(ro+t)/2,fo+=i*(io+n)/2,so+=i,yo(ro=t,io=n)}function _o(){go.point=yo}function xo(){go.point=ko}function wo(){Mo(no,eo)}function ko(t,n){go.point=Mo,yo(no=ro=t,eo=io=n)}function Mo(t,n){var e=t-ro,r=n-io,i=gi(e*e+r*r);lo+=i*(ro+t)/2,fo+=i*(io+n)/2,so+=i,uo+=(i=io*t-ro*n)*(ro+t),ho+=i*(io+n),po+=3*i,yo(ro=t,io=n)}const $o=go;function Ao(t){this._context=t}Ao.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ri)}},result:vi};var To,So,Eo,No,Co,Lo=new Fi,zo={point:vi,lineStart:function(){zo.point=Do},lineEnd:function(){To&&Oo(So,Eo),zo.point=vi},polygonStart:function(){To=!0},polygonEnd:function(){To=null},result:function(){var t=+Lo;return Lo=new Fi,t}};function Do(t,n){zo.point=Oo,So=No=t,Eo=Co=n}function Oo(t,n){No-=t,Co-=n,Lo.add(gi(No*No+Co*Co)),No=t,Co=n}const Fo=zo;let jo,Ro,Uo,Po;class Io{constructor(t){this._append=null==t?qo:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return qo;if(n!==jo){const t=10**n;jo=n,Ro=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Ro}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Uo||this._append!==Ro){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Uo=t,Ro=this._append,Po=this._,this._=n}this._+=Po}}result(){const t=this._;return this._="",t.length?t:null}}function qo(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Bo(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),Oi(t,e(r))),r.result()}return a.area=function(t){return Oi(t,e(Xi)),Xi.result()},a.measure=function(t){return Oi(t,e(Fo)),Fo.result()},a.bounds=function(t){return Oi(t,e(to)),to.result()},a.centroid=function(t){return Oi(t,e($o)),$o.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Ei):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Io(i)):new Ao(n=t),"function"!==typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"===typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Io(i)),a},a.projection(t).digits(i).context(n)}function Wo(t){return[li(t[1],t[0]),mi(t[2])]}function Ho(t){var n=t[0],e=t[1],r=fi(e);return[r*fi(n),r*di(n),di(e)]}function Yo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Vo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Xo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Zo(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Go(t){var n=gi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Qo(t){return ai(t[0])<=ti?t[0]:pi(t[0])*((ai(t[0])+ti)%ri-ti)}function Jo(t,n,e,r){return function(i){var o,a,c,l=n(i),f=_i(),s=n(f),u=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=b,h.lineStart=m,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=$i(a);var t=function(t,n){var e=Qo(n),r=n[1],i=di(r),o=[di(e),-fi(e),0],a=0,c=0,l=new Fi;1===i?r=ni+Jr:-1===i&&(r=-ni-Jr);for(var f=0,s=t.length;f<s;++f)if(h=(u=t[f]).length)for(var u,h,d=u[h-1],p=Qo(d),g=d[1]/2+ei,y=di(g),b=fi(g),m=0;m<h;++m,p=_,y=w,b=k,d=v){var v=u[m],_=Qo(v),x=v[1]/2+ei,w=di(x),k=fi(x),M=_-p,$=M>=0?1:-1,A=$*M,T=A>ti,S=y*w;if(l.add(li(S*$*di(A),b*k+S*fi(A))),a+=T?M+$*ri:M,T^p>=e^_>=e){var E=Vo(Ho(d),Ho(v));Go(E);var N=Vo(o,E);Go(N);var C=(T^M>=0?-1:1)*mi(N[2]);(r>C||r===C&&(E[0]||E[1]))&&(c+=T^M>=0?1:-1)}}return(a<-Jr||a<Jr&&l<-Kr)^1&c}(o,r);a.length?(u||(i.polygonStart(),u=!0),ki(a,ta,t,e,i)):t&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){l.point(t,n)}function g(){h.point=p,l.lineStart()}function y(){h.point=d,l.lineEnd()}function b(t,n){c.push([t,n]),s.point(t,n)}function m(){s.lineStart(),c=[]}function v(){b(c[0][0],c[0][1]),s.lineEnd();var t,n,e,r,l=s.clean(),h=f.result(),d=h.length;if(c.pop(),o.push(c),c=null,d)if(1&l){if((n=(e=h[0]).length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ko))}return h}}function Ko(t){return t.length>1}function ta(t,n){return((t=t.x)[0]<0?t[1]-ni-Jr:ni-t[1])-((n=n.x)[0]<0?n[1]-ni-Jr:ni-n[1])}const na=Jo((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var c=o>0?ti:-ti,l=ai(o-e);ai(l-ti)<Jr?(t.point(e,r=(r+a)/2>0?ni:-ni),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),n=0):i!==c&&l>=ti&&(ai(e-i)<Jr&&(e-=i*Jr),ai(o-c)<Jr&&(o-=c*Jr),r=function(t,n,e,r){var i,o,a=di(t-e);return ai(a)>Jr?ci((di(n)*(o=fi(r))*di(e)-di(r)*(i=fi(n))*di(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=o,r=a),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*ni,r.point(-ti,i),r.point(0,i),r.point(ti,i),r.point(ti,0),r.point(ti,-i),r.point(0,-i),r.point(-ti,-i),r.point(-ti,0),r.point(-ti,i);else if(ai(t[0]-n[0])>Jr){var o=t[0]<n[0]?ti:-ti;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-ti,-ni]);function ea(t,n,e,r,i,o){if(e){var a=fi(n),c=di(n),l=r*e;null==i?(i=n+r*ri,o=n-l/2):(i=ra(a,i),o=ra(a,o),(r>0?i<o:i>o)&&(i+=r*ri));for(var f,s=i;r>0?s>o:s<o;s-=l)f=Wo([a,-c*fi(s),-c*di(s)]),t.point(f[0],f[1])}}function ra(t,n){(n=Ho(n))[0]-=t,Go(n);var e=bi(-n[1]);return((-n[2]<0?-e:e)+ri-Jr)%ri}function ia(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function oa(t,n){return ai(t)>ti&&(t-=Math.round(t/ri)*ri),[t,n]}function aa(t,n,e){return(t%=ri)?n||e?ia(la(t),fa(n,e)):la(t):n||e?fa(n,e):oa}function ca(t){return function(n,e){return ai(n+=t)>ti&&(n-=Math.round(n/ri)*ri),[n,e]}}function la(t){var n=ca(t);return n.invert=ca(-t),n}function fa(t,n){var e=fi(t),r=di(t),i=fi(n),o=di(n);function a(t,n){var a=fi(n),c=fi(t)*a,l=di(t)*a,f=di(n),s=f*e+c*r;return[li(l*i-s*o,c*e-f*r),mi(s*i+l*o)]}return a.invert=function(t,n){var a=fi(n),c=fi(t)*a,l=di(t)*a,f=di(n),s=f*i-l*o;return[li(l*i+f*o,c*e+s*r),mi(s*e-c*r)]},a}function sa(t){return{stream:ua(t)}}function ua(t){return function(n){var e=new ha;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ha(){}function da(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Oi(e,t.stream(to)),n(to.result()),null!=r&&t.clipExtent(r),t}function pa(t,n,e){return da(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,c])}),e)}function ga(t,n,e){return pa(t,[[0,0],n],e)}function ya(t,n,e){return da(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function ba(t,n,e){return da(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}oa.invert=oa,ha.prototype={constructor:ha,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ma=16,va=fi(30*oi);function _a(t,n){return+n?function(t,n){function e(r,i,o,a,c,l,f,s,u,h,d,p,g,y){var b=f-r,m=s-i,v=b*b+m*m;if(v>4*n&&g--){var _=a+h,x=c+d,w=l+p,k=gi(_*_+x*x+w*w),M=mi(w/=k),$=ai(ai(w)-1)<Jr||ai(o-u)<Jr?(o+u)/2:li(x,_),A=t($,M),T=A[0],S=A[1],E=T-r,N=S-i,C=m*E-b*N;(C*C/v>n||ai((b*E+m*N)/v-.5)>.3||a*h+c*d+l*p<va)&&(e(r,i,o,a,c,l,T,S,$,_/=k,x/=k,w,g,y),y.point(T,S),e(T,S,$,_,x,w,f,s,u,h,d,p,g,y))}}return function(n){var r,i,o,a,c,l,f,s,u,h,d,p,g={point:y,lineStart:b,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){s=NaN,g.point=m,n.lineStart()}function m(r,i){var o=Ho([r,i]),a=t(r,i);e(s,u,f,h,d,p,s=a[0],u=a[1],f=r,h=o[0],d=o[1],p=o[2],ma,n),n.point(s,u)}function v(){g.point=y,n.lineEnd()}function _(){b(),g.point=x,g.lineEnd=w}function x(t,n){m(r=t,n),i=s,o=u,a=h,c=d,l=p,g.point=m}function w(){e(s,u,f,h,d,p,i,o,r,a,c,l,ma,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return ua({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var xa=ua({point:function(t,n){this.stream.point(t*oi,n*oi)}});function wa(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=fi(o),c=di(o),l=a*t,f=c*t,s=a/t,u=c/t,h=(c*e-a*n)/t,d=(c*n+a*e)/t;function p(t,o){return[l*(t*=r)-f*(o*=i)+n,e-f*t-l*o]}return p.invert=function(t,n){return[r*(s*t-u*n+h),i*(d-u*t-s*n)]},p}function ka(t){return Ma((function(){return t}))()}function Ma(t){var n,e,r,i,o,a,c,l,f,s,u=150,h=480,d=250,p=0,g=0,y=0,b=0,m=0,v=0,_=1,x=1,w=null,k=na,M=null,$=Ei,A=.5;function T(t){return l(t[0]*oi,t[1]*oi)}function S(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ii,t[1]*ii]}function E(){var t=wa(u,0,0,_,x,v).apply(null,n(p,g)),r=wa(u,h-t[0],d-t[1],_,x,v);return e=aa(y,b,m),c=ia(n,r),l=ia(e,c),a=_a(c,A),N()}function N(){return f=s=null,T}return T.stream=function(t){return f&&s===t?f:f=xa(function(t){return ua({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(a($(s=t)))))},T.preclip=function(t){return arguments.length?(k=t,w=void 0,N()):k},T.postclip=function(t){return arguments.length?($=t,M=r=i=o=null,N()):$},T.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=fi(t),e=2*oi,r=n>0,i=ai(n)>Jr;function o(t,e){return fi(t)*fi(e)>n}function a(t,e,r){var i=[1,0,0],o=Vo(Ho(t),Ho(e)),a=Yo(o,o),c=o[0],l=a-c*c;if(!l)return!r&&t;var f=n*a/l,s=-n*c/l,u=Vo(i,o),h=Zo(i,f);Xo(h,Zo(o,s));var d=u,p=Yo(h,d),g=Yo(d,d),y=p*p-g*(Yo(h,h)-1);if(!(y<0)){var b=gi(y),m=Zo(d,(-p-b)/g);if(Xo(m,h),m=Wo(m),!r)return m;var v,_=t[0],x=e[0],w=t[1],k=e[1];x<_&&(v=_,_=x,x=v);var M=x-_,$=ai(M-ti)<Jr;if(!$&&k<w&&(v=w,w=k,k=v),$||M<Jr?$?w+k>0^m[1]<(ai(m[0]-_)<Jr?w:k):w<=m[1]&&m[1]<=k:M>ti^(_<=m[0]&&m[0]<=x)){var A=Zo(d,(-p+b)/g);return Xo(A,h),[m,Wo(A)]}}}function c(n,e){var i=r?t:ti-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Jo(o,(function(t){var n,e,l,f,s;return{lineStart:function(){f=l=!1,s=1},point:function(u,h){var d,p=[u,h],g=o(u,h),y=r?g?0:c(u,h):g?c(u+(u<0?ti:-ti),h):0;if(!n&&(f=l=g)&&t.lineStart(),g!==l&&(!(d=a(n,p))||xi(n,d)||xi(p,d))&&(p[2]=1),g!==l)s=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var b;y&e||!(b=a(p,n,!0))||(s=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&xi(n,p)||t.point(p[0],p[1]),n=p,l=g,e=y},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return s|(f&&l)<<1}}}),(function(n,r,i,o){ea(o,t,e,i,n,r)}),r?[0,-t]:[-ti,t-ti])}(w=t*oi):(w=null,na),N()):w*ii},T.clipExtent=function(t){return arguments.length?($=null==t?(M=r=i=o=null,Ei):Si(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),N()):null==M?null:[[M,r],[i,o]]},T.scale=function(t){return arguments.length?(u=+t,E()):u},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*oi,g=t[1]%360*oi,E()):[p*ii,g*ii]},T.rotate=function(t){return arguments.length?(y=t[0]%360*oi,b=t[1]%360*oi,m=t.length>2?t[2]%360*oi:0,E()):[y*ii,b*ii,m*ii]},T.angle=function(t){return arguments.length?(v=t%360*oi,E()):v*ii},T.reflectX=function(t){return arguments.length?(_=t?-1:1,E()):_<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},T.precision=function(t){return arguments.length?(a=_a(c,A=t*t),N()):gi(A)},T.fitExtent=function(t,n){return pa(T,t,n)},T.fitSize=function(t,n){return ga(T,t,n)},T.fitWidth=function(t,n){return ya(T,t,n)},T.fitHeight=function(t,n){return ba(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&S,E()}}function $a(t){var n=0,e=ti/3,r=Ma(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*oi,e=t[1]*oi):[n*ii,e*ii]},i}function Aa(t,n){var e=di(t),r=(e+di(n))/2;if(ai(r)<Jr)return function(t){var n=fi(t);function e(t,e){return[t*n,di(e)/n]}return e.invert=function(t,e){return[t/n,mi(e*n)]},e}(t);var i=1+e*(2*r-e),o=gi(i)/r;function a(t,n){var e=gi(i-2*r*di(n))/r;return[e*di(t*=r),o-e*fi(t)]}return a.invert=function(t,n){var e=o-n,a=li(t,ai(e))*pi(e);return e*r<0&&(a-=ti*pi(t)*pi(e)),[a/r,mi((i-(t*t+e*e)*r*r)/(2*r))]},a}function Ta(){return $a(Aa).scale(155.424).center([0,33.6442])}function Sa(){return Ta().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ea(){var t,n,e,r,i,o,a=Sa(),c=Ta().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Ta().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function u(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},s.stream=function(e){return t&&n===e?t:t=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([a.stream(n=e),c.stream(e),l.stream(e)])},s.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),l.precision(t),u()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),l.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(f),r=c.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Jr,s+.12*n+Jr],[o-.214*n-Jr,s+.234*n-Jr]]).stream(f),i=l.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Jr,s+.166*n+Jr],[o-.115*n-Jr,s+.234*n-Jr]]).stream(f),u()},s.fitExtent=function(t,n){return pa(s,t,n)},s.fitSize=function(t,n){return ga(s,t,n)},s.fitWidth=function(t,n){return ya(s,t,n)},s.fitHeight=function(t,n){return ba(s,t,n)},s.scale(1070)}function Na(t){return function(n,e){var r=fi(n),i=fi(e),o=t(r*i);return o===1/0?[2,0]:[o*i*di(n),o*di(e)]}}function Ca(t){return function(n,e){var r=gi(n*n+e*e),i=t(r),o=di(i),a=fi(i);return[li(n*o,r*a),mi(r&&e*o/r)]}}var La=Na((function(t){return gi(2/(1+t))}));function za(){return ka(La).scale(124.75).clipAngle(179.999)}La.invert=Ca((function(t){return 2*mi(t/2)}));var Da=Na((function(t){return(t=bi(t))&&t/di(t)}));function Oa(){return ka(Da).scale(79.4188).clipAngle(179.999)}function Fa(t,n){return[t,ui(yi((ni+n)/2))]}function ja(){return Ra(Fa).scale(961/ri)}function Ra(t){var n,e,r,i=ka(t),o=i.center,a=i.scale,c=i.translate,l=i.clipExtent,f=null;function s(){var o=ti*a(),c=i(function(t){function n(n){return(n=t(n[0]*oi,n[1]*oi))[0]*=ii,n[1]*=ii,n}return t=aa(t[0]*oi,t[1]*oi,t.length>2?t[2]*oi:0),n.invert=function(n){return(n=t.invert(n[0]*oi,n[1]*oi))[0]*=ii,n[1]*=ii,n},n}(i.rotate()).invert([0,0]));return l(null==f?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===Fa?[[Math.max(c[0]-o,f),n],[Math.min(c[0]+o,e),r]]:[[f,Math.max(c[1]-o,n)],[e,Math.min(c[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(c(t),s()):c()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function Ua(t){return yi((ni+t)/2)}function Pa(t,n){var e=fi(t),r=t===n?di(t):ui(e/fi(n))/ui(Ua(n)/Ua(t)),i=e*hi(Ua(t),r)/r;if(!r)return Fa;function o(t,n){i>0?n<-ni+Jr&&(n=-ni+Jr):n>ni-Jr&&(n=ni-Jr);var e=i/hi(Ua(n),r);return[e*di(r*t),i-e*fi(r*t)]}return o.invert=function(t,n){var e=i-n,o=pi(r)*gi(t*t+e*e),a=li(t,ai(e))*pi(e);return e*r<0&&(a-=ti*pi(t)*pi(e)),[a/r,2*ci(hi(i/o,1/r))-ni]},o}function Ia(){return $a(Pa).scale(109.5).parallels([30,30])}function qa(t,n){return[t,n]}function Ba(){return ka(qa).scale(152.63)}function Wa(t,n){var e=fi(t),r=t===n?di(t):(e-fi(n))/(n-t),i=e/r+t;if(ai(r)<Jr)return qa;function o(t,n){var e=i-n,o=r*t;return[e*di(o),i-e*fi(o)]}return o.invert=function(t,n){var e=i-n,o=li(t,ai(e))*pi(e);return e*r<0&&(o-=ti*pi(t)*pi(e)),[o/r,i-pi(r)*gi(t*t+e*e)]},o}function Ha(){return $a(Wa).scale(131.154).center([0,13.9389])}Da.invert=Ca((function(t){return t})),Fa.invert=function(t,n){return[t,2*ci(si(n))-ni]},qa.invert=qa;var Ya=1.340264,Va=-.081106,Xa=893e-6,Za=.003796,Ga=gi(3)/2;function Qa(t,n){var e=mi(Ga*di(n)),r=e*e,i=r*r*r;return[t*fi(e)/(Ga*(Ya+3*Va*r+i*(7*Xa+9*Za*r))),e*(Ya+Va*r+i*(Xa+Za*r))]}function Ja(){return ka(Qa).scale(177.158)}function Ka(t,n){var e=fi(n),r=fi(t)*e;return[e*di(t)/r,di(n)/r]}function tc(){return ka(Ka).scale(144.049).clipAngle(60)}function nc(t,n){return[fi(n)*di(t),di(n)]}function ec(){return ka(nc).scale(249.5).clipAngle(90+Jr)}function rc(t,n){var e=fi(n),r=1+fi(t)*e;return[e*di(t)/r,di(n)/r]}function ic(){return ka(rc).scale(250).clipAngle(142)}function oc(t,n){return[ui(yi((ni+n)/2)),-t]}function ac(){var t=Ra(oc),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function cc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function lc(t){return function(n,e){var r=t((n=Ve(n)).h,(e=Ve(e)).h),i=rr(n.s,e.s),o=rr(n.l,e.l),a=rr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}Qa.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Ya+Va*i+o*(Xa+Za*i))-n)/(Ya+3*Va*i+o*(7*Xa+9*Za*i)))*r)*i*i,!(ai(e)<Kr));++a);return[Ga*t*(Ya+3*Va*i+o*(7*Xa+9*Za*i))/fi(r),mi(di(r)/Ga)]},Ka.invert=Ca(ci),nc.invert=Ca(mi),rc.invert=Ca((function(t){return 2*ci(t)})),oc.invert=function(t,n){return[-n,2*ci(si(t))-ni]};const fc=lc(nr);lc(rr);const sc=Math.PI/180,uc=180/Math.PI,hc=.96422,dc=.82521,pc=4/29,gc=6/29,yc=3*gc*gc,bc=gc*gc*gc;function mc(t){if(t instanceof _c)return new _c(t.l,t.a,t.b,t.opacity);if(t instanceof Tc)return Sc(t);t instanceof Ue||(t=je(t));var n,e,r=Mc(t.r),i=Mc(t.g),o=Mc(t.b),a=xc((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=xc((.4360747*r+.3850649*i+.1430804*o)/hc),e=xc((.0139322*r+.0971045*i+.7141733*o)/dc)),new _c(116*a-16,500*(n-a),200*(a-e),t.opacity)}function vc(t,n,e,r){return 1===arguments.length?mc(t):new _c(t,n,e,null==r?1:r)}function _c(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function xc(t){return t>bc?Math.pow(t,1/3):t/yc+pc}function wc(t){return t>gc?t*t*t:yc*(t-pc)}function kc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Mc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $c(t){if(t instanceof Tc)return new Tc(t.h,t.c,t.l,t.opacity);if(t instanceof _c||(t=mc(t)),0===t.a&&0===t.b)return new Tc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*uc;return new Tc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ac(t,n,e,r){return 1===arguments.length?$c(t):new Tc(t,n,e,null==r?1:r)}function Tc(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Sc(t){if(isNaN(t.h))return new _c(t.l,0,0,t.opacity);var n=t.h*sc;return new _c(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Ec(t){return function(n,e){var r=t((n=Ac(n)).h,(e=Ac(e)).h),i=rr(n.c,e.c),o=rr(n.l,e.l),a=rr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}ye(_c,vc,be(me,{brighter(t){return new _c(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new _c(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ue(kc(3.1338561*(n=hc*wc(n))-1.6168667*(t=1*wc(t))-.4906146*(e=dc*wc(e))),kc(-.9787684*n+1.9161415*t+.033454*e),kc(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ye(Tc,Ac,be(me,{brighter(t){return new Tc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Tc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Sc(this).rgb()}}));const Nc=Ec(nr);Ec(rr);function Cc(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Oc(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Lc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function zc(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=Oc(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function Dc(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Oc(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Ke(n):("number"===i?oe:"string"===i?(e=De(n))?(n=e,ir):fr:n instanceof De?ir:n instanceof Date?Lc:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Cc:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?zc:oe:Dc))(t,n)}function Fc(t,n){void 0===n&&(n=t,t=Oc);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function jc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const Rc=Math.PI,Uc=2*Rc,Pc=1e-6,Ic=Uc-Pc;function qc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Bc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?qc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return qc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,c=e-t,l=r-n,f=o-t,s=a-n,u=f*f+s*s;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(u>Pc)if(Math.abs(s*c-l*f)>Pc&&i){let h=e-o,d=r-a,p=c*c+l*l,g=h*h+d*d,y=Math.sqrt(p),b=Math.sqrt(u),m=i*Math.tan((Rc-Math.acos((p+u-g)/(2*y*b)))/2),v=m/b,_=m/y;Math.abs(v-1)>Pc&&this._append`L${t+v*f},${n+v*s}`,this._append`A${i},${i},0,0,${+(s*h>f*d)},${this._x1=t+_*c},${this._y1=n+_*l}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),c=e*Math.sin(r),l=t+a,f=n+c,s=1^o,u=o?r-i:i-r;null===this._x1?this._append`M${l},${f}`:(Math.abs(this._x1-l)>Pc||Math.abs(this._y1-f)>Pc)&&this._append`L${l},${f}`,e&&(u<0&&(u=u%Uc+Uc),u>Ic?this._append`A${e},${e},0,1,${s},${t-a},${n-c}A${e},${e},0,1,${s},${this._x1=l},${this._y1=f}`:u>Pc&&this._append`A${e},${e},0,${+(u>=Rc)},${s},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Wc(){return new Bc(+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:3))}function Hc(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Yc(t,n){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof n?this.interpolator(n):this.range(n)}return this}const Vc=Symbol("implicit");function Xc(){var t=new m,n=[],e=[],r=Vc;function i(i){let o=t.get(i);if(void 0===o){if(r!==Vc)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new m;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Xc(n,e).unknown(r)},Hc.apply(i,arguments),i}function Zc(){var t,n,e=Xc().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,c=!1,l=0,f=0,s=.5;function u(){var e=r().length,u=a<o,h=u?a:o,d=u?o:a;t=(d-h)/Math.max(1,e-l+2*f),c&&(t=Math.floor(t)),h+=(d-h-t*(e-l))*s,n=t*(1-l),c&&(h=Math.round(h),n=Math.round(n));var p=Z(e).map((function(n){return h+t*n}));return i(u?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),u()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,u()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,c=!0,u()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,u()):c},e.padding=function(t){return arguments.length?(l=Math.min(1,f=+t),u()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),u()):l},e.paddingOuter=function(t){return arguments.length?(f=+t,u()):f},e.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u()):s},e.copy=function(){return Zc(r(),[o,a]).round(c).paddingInner(l).paddingOuter(f).align(s)},Hc.apply(u(),arguments)}function Gc(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gc(n())},t}function Qc(){return Gc(Zc.apply(null,arguments).paddingInner(1))}function Jc(t){return+t}var Kc=[0,1];function tl(t){return t}function nl(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function el(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=nl(i,r),o=e(a,o)):(r=nl(r,i),o=e(o,a)),function(t){return o(r(t))}}function rl(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=nl(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=s(t,n,1,r)-1;return o[e](i[e](n))}}function il(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ol(){var t,n,e,r,i,o,a=Kc,c=Kc,l=Oc,f=tl;function s(){var t=Math.min(a.length,c.length);return f!==tl&&(f=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?rl:el,i=o=null,u}function u(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),c,l)))(t(f(n)))}return u.invert=function(e){return f(n((o||(o=r(c,a.map(t),oe)))(e)))},u.domain=function(t){return arguments.length?(a=Array.from(t,Jc),s()):a.slice()},u.range=function(t){return arguments.length?(c=Array.from(t),s()):c.slice()},u.rangeRound=function(t){return c=Array.from(t),l=cc,s()},u.clamp=function(t){return arguments.length?(f=!!t||tl,s()):f!==tl},u.interpolate=function(t){return arguments.length?(l=t,s()):l},u.unknown=function(t){return arguments.length?(e=t,u):e},function(e,r){return t=e,n=r,s()}}function al(){return ol()(tl,tl)}function cl(t,n,e,r){var i,o=ot(t,n,e);switch((r=Ir(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Rr(n)/3)))-Rr(Math.abs(t)))}(o,a))||(r.precision=i),Xr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Rr(n)-Rr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Rr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Vr(r)}function ll(t){var n=t.domain;return t.ticks=function(t){var e=n();return et(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return cl(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,c=o.length-1,l=o[a],f=o[c],s=10;for(f<l&&(i=l,l=f,f=i,i=a,a=c,c=i);s-- >0;){if((i=rt(l,f,e))===r)return o[a]=l,o[c]=f,n(o);if(i>0)l=Math.floor(l/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,f=Math.floor(f*i)/i}r=i}return t},t}function fl(){var t=al();return t.copy=function(){return il(t,fl())},Hc.apply(t,arguments),ll(t)}function sl(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Jc),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return sl(t).unknown(n)},t=arguments.length?Array.from(t,Jc):[0,1],ll(e)}function ul(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function hl(t){return Math.log(t)}function dl(t){return Math.exp(t)}function pl(t){return-Math.log(-t)}function gl(t){return-Math.exp(-t)}function yl(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bl(t){return(n,e)=>-t(-n,e)}function ml(t){const n=t(hl,dl),e=n.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?yl:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=bl(r),i=bl(i),t(pl,gl)):t(hl,dl),n}return n.base=function(t){return arguments.length?(o=+t,a()):o},n.domain=function(t){return arguments.length?(e(t),a()):e()},n.ticks=t=>{const n=e();let a=n[0],c=n[n.length-1];const l=c<a;l&&([a,c]=[c,a]);let f,s,u=r(a),h=r(c);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-u<d){if(u=Math.floor(u),h=Math.ceil(h),a>0){for(;u<=h;++u)for(f=1;f<o;++f)if(s=u<0?f/i(-u):f*i(u),!(s<a)){if(s>c)break;p.push(s)}}else for(;u<=h;++u)for(f=o-1;f>=1;--f)if(s=u>0?f/i(-u):f*i(u),!(s<a)){if(s>c)break;p.push(s)}2*p.length<d&&(p=et(a,c,d))}else p=et(u,h,Math.min(h-u,d)).map(i);return l?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!==typeof e&&(o%1||null!=(e=Ir(e)).precision||(e.trim=!0),e=Vr(e)),t===1/0)return e;const a=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=a?e(t):""}},n.nice=()=>e(ul(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function vl(){const t=ml(ol()).domain([1,10]);return t.copy=()=>il(t,vl()).base(t.base()),Hc.apply(t,arguments),t}function _l(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function xl(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function wl(t){var n=1,e=t(_l(n),xl(n));return e.constant=function(e){return arguments.length?t(_l(n=+e),xl(n)):n},ll(e)}function kl(){var t=wl(ol());return t.copy=function(){return il(t,kl()).constant(t.constant())},Hc.apply(t,arguments)}function Ml(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function $l(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Al(t){return t<0?-t*t:t*t}function Tl(t){var n=t(tl,tl),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(tl,tl):.5===e?t($l,Al):t(Ml(e),Ml(1/e)):e},ll(n)}function Sl(){var t=Tl(ol());return t.copy=function(){return il(t,Sl()).exponent(t.exponent())},Hc.apply(t,arguments),t}function El(){var t,n=[],e=[],i=[];function o(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=U(n,t/r);return a}function a(n){return null==n||isNaN(n=+n)?t:e[s(i,n)]}return a.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(r),o()},a.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return El().domain(n).range(e).unknown(t)},Hc.apply(a,arguments)}function Nl(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[s(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Nl().domain(n).range(e).unknown(t)},Hc.apply(i,arguments)}const Cl=1e3,Ll=6e4,zl=36e5,Dl=864e5,Ol=6048e5,Fl=2592e6,jl=31536e6,Rl=new Date,Ul=new Date;function Pl(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r)||!(o>0))return a;let c;do{a.push(c=new Date(+e)),n(e,o),t(e)}while(c<e&&e<r);return a},i.filter=e=>Pl((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Rl.setTime(+n),Ul.setTime(+r),t(Rl),t(Ul),Math.floor(e(Rl,Ul))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t===0:n=>i.count(0,n)%t===0):i:null)),i}const Il=Pl((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));Il.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Pl((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):Il:null);Il.range;const ql=Pl((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*Cl)}),((t,n)=>(n-t)/Cl),(t=>t.getUTCSeconds())),Bl=(ql.range,Pl((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)}),((t,n)=>{t.setTime(+t+n*Ll)}),((t,n)=>(n-t)/Ll),(t=>t.getMinutes()))),Wl=(Bl.range,Pl((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*Ll)}),((t,n)=>(n-t)/Ll),(t=>t.getUTCMinutes()))),Hl=(Wl.range,Pl((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*Ll)}),((t,n)=>{t.setTime(+t+n*zl)}),((t,n)=>(n-t)/zl),(t=>t.getHours()))),Yl=(Hl.range,Pl((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*zl)}),((t,n)=>(n-t)/zl),(t=>t.getUTCHours()))),Vl=(Yl.range,Pl((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ll)/Dl),(t=>t.getDate()-1))),Xl=(Vl.range,Pl((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Dl),(t=>t.getUTCDate()-1))),Zl=(Xl.range,Pl((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Dl),(t=>Math.floor(t/Dl))));Zl.range;function Gl(t){return Pl((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ll)/Ol))}const Ql=Gl(0),Jl=Gl(1),Kl=Gl(2),tf=Gl(3),nf=Gl(4),ef=Gl(5),rf=Gl(6);Ql.range,Jl.range,Kl.range,tf.range,nf.range,ef.range,rf.range;function of(t){return Pl((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/Ol))}const af=of(0),cf=of(1),lf=of(2),ff=of(3),sf=of(4),uf=of(5),hf=of(6),df=(af.range,cf.range,lf.range,ff.range,sf.range,uf.range,hf.range,Pl((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),pf=(df.range,Pl((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),gf=(pf.range,Pl((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));gf.every=t=>isFinite(t=Math.floor(t))&&t>0?Pl((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;gf.range;const yf=Pl((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));yf.every=t=>isFinite(t=Math.floor(t))&&t>0?Pl((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;yf.range;function bf(t,n,e,r,i,a){const c=[[ql,1,Cl],[ql,5,5e3],[ql,15,15e3],[ql,30,3e4],[a,1,Ll],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,zl],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Dl],[r,2,1728e5],[e,1,Ol],[n,1,Fl],[n,3,7776e6],[t,1,jl]];function l(n,e,r){const i=Math.abs(e-n)/r,a=o((t=>{let[,,n]=t;return n})).right(c,i);if(a===c.length)return t.every(ot(n/jl,e/jl,r));if(0===a)return Il.every(Math.max(ot(n,e,r),1));const[l,f]=c[i/c[a-1][2]<c[a][2]/i?a-1:a];return l.every(f)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"===typeof e.range?e:l(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},l]}const[mf,vf]=bf(yf,pf,af,Zl,Yl,Wl),[_f,xf]=bf(gf,df,Ql,Vl,Hl,Bl);function wf(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kf(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mf(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var $f,Af,Tf,Sf={"-":"",_:" ",0:"0"},Ef=/^\s*\d+/,Nf=/^%/,Cf=/[\\^$*+?|[\]().{}]/g;function Lf(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function zf(t){return t.replace(Cf,"\\$&")}function Df(t){return new RegExp("^(?:"+t.map(zf).join("|")+")","i")}function Of(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Ff(t,n,e){var r=Ef.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function jf(t,n,e){var r=Ef.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Rf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Uf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Pf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function If(t,n,e){var r=Ef.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function qf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Bf(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Wf(t,n,e){var r=Ef.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Hf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Yf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Vf(t,n,e){var r=Ef.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Xf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Zf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Gf(t,n,e){var r=Ef.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Qf(t,n,e){var r=Ef.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Jf(t,n,e){var r=Ef.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Kf(t,n,e){var r=Nf.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ts(t,n,e){var r=Ef.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ns(t,n,e){var r=Ef.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function es(t,n){return Lf(t.getDate(),n,2)}function rs(t,n){return Lf(t.getHours(),n,2)}function is(t,n){return Lf(t.getHours()%12||12,n,2)}function os(t,n){return Lf(1+Vl.count(gf(t),t),n,3)}function as(t,n){return Lf(t.getMilliseconds(),n,3)}function cs(t,n){return as(t,n)+"000"}function ls(t,n){return Lf(t.getMonth()+1,n,2)}function fs(t,n){return Lf(t.getMinutes(),n,2)}function ss(t,n){return Lf(t.getSeconds(),n,2)}function us(t){var n=t.getDay();return 0===n?7:n}function hs(t,n){return Lf(Ql.count(gf(t)-1,t),n,2)}function ds(t){var n=t.getDay();return n>=4||0===n?nf(t):nf.ceil(t)}function ps(t,n){return t=ds(t),Lf(nf.count(gf(t),t)+(4===gf(t).getDay()),n,2)}function gs(t){return t.getDay()}function ys(t,n){return Lf(Jl.count(gf(t)-1,t),n,2)}function bs(t,n){return Lf(t.getFullYear()%100,n,2)}function ms(t,n){return Lf((t=ds(t)).getFullYear()%100,n,2)}function vs(t,n){return Lf(t.getFullYear()%1e4,n,4)}function _s(t,n){var e=t.getDay();return Lf((t=e>=4||0===e?nf(t):nf.ceil(t)).getFullYear()%1e4,n,4)}function xs(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Lf(n/60|0,"0",2)+Lf(n%60,"0",2)}function ws(t,n){return Lf(t.getUTCDate(),n,2)}function ks(t,n){return Lf(t.getUTCHours(),n,2)}function Ms(t,n){return Lf(t.getUTCHours()%12||12,n,2)}function $s(t,n){return Lf(1+Xl.count(yf(t),t),n,3)}function As(t,n){return Lf(t.getUTCMilliseconds(),n,3)}function Ts(t,n){return As(t,n)+"000"}function Ss(t,n){return Lf(t.getUTCMonth()+1,n,2)}function Es(t,n){return Lf(t.getUTCMinutes(),n,2)}function Ns(t,n){return Lf(t.getUTCSeconds(),n,2)}function Cs(t){var n=t.getUTCDay();return 0===n?7:n}function Ls(t,n){return Lf(af.count(yf(t)-1,t),n,2)}function zs(t){var n=t.getUTCDay();return n>=4||0===n?sf(t):sf.ceil(t)}function Ds(t,n){return t=zs(t),Lf(sf.count(yf(t),t)+(4===yf(t).getUTCDay()),n,2)}function Os(t){return t.getUTCDay()}function Fs(t,n){return Lf(cf.count(yf(t)-1,t),n,2)}function js(t,n){return Lf(t.getUTCFullYear()%100,n,2)}function Rs(t,n){return Lf((t=zs(t)).getUTCFullYear()%100,n,2)}function Us(t,n){return Lf(t.getUTCFullYear()%1e4,n,4)}function Ps(t,n){var e=t.getUTCDay();return Lf((t=e>=4||0===e?sf(t):sf.ceil(t)).getUTCFullYear()%1e4,n,4)}function Is(){return"+0000"}function qs(){return"%"}function Bs(t){return+t}function Ws(t){return Math.floor(+t/1e3)}function Hs(t){return new Date(t)}function Ys(t){return t instanceof Date?+t:+new Date(+t)}function Vs(t,n,e,r,i,o,a,c,l,f){var s=al(),u=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),y=f("%I %p"),b=f("%a %d"),m=f("%b %d"),v=f("%B"),_=f("%Y");function x(t){return(l(t)<t?d:c(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?b:m:e(t)<t?v:_)(t)}return s.invert=function(t){return new Date(u(t))},s.domain=function(t){return arguments.length?h(Array.from(t,Ys)):h().map(Hs)},s.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},s.tickFormat=function(t,n){return null==n?x:f(n)},s.nice=function(t){var e=h();return t&&"function"===typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(ul(e,t)):s},s.copy=function(){return il(s,Vs(t,n,e,r,i,o,a,c,l,f))},s}function Xs(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zs(){var t,n,e,r,i,o,a,c=0,l=.5,f=1,s=1,u=tl,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(s*t<s*n?r:i),u(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,u=Fc(t,[e,r,i]),d):[u(0),u(.5),u(1)]}}return d.domain=function(a){return arguments.length?([c,l,f]=a,t=o(c=+c),n=o(l=+l),e=o(f=+f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d):[c,l,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.range=p(Oc),d.rangeRound=p(cc),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(c),n=a(l),e=a(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d}}function Gs(){var t=ll(Zs()(tl));return t.copy=function(){return Xs(t,Gs())},Yc.apply(t,arguments)}function Qs(){var t=ml(Zs()).domain([.1,1,10]);return t.copy=function(){return Xs(t,Qs()).base(t.base())},Yc.apply(t,arguments)}function Js(){var t=wl(Zs());return t.copy=function(){return Xs(t,Js()).constant(t.constant())},Yc.apply(t,arguments)}function Ks(){var t=Tl(Zs());return t.copy=function(){return Xs(t,Ks()).exponent(t.exponent())},Yc.apply(t,arguments)}function tu(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){$f=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,l=t.shortMonths,f=Df(i),s=Of(i),u=Df(o),h=Of(o),d=Df(a),p=Of(a),g=Df(c),y=Of(c),b=Df(l),m=Of(l),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:es,e:es,f:cs,g:ms,G:_s,H:rs,I:is,j:os,L:as,m:ls,M:fs,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Bs,s:Ws,S:ss,u:us,U:hs,V:ps,w:gs,W:ys,x:null,X:null,y:bs,Y:vs,Z:xs,"%":qs},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:ws,e:ws,f:Ts,g:Rs,G:Ps,H:ks,I:Ms,j:$s,L:As,m:Ss,M:Es,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Bs,s:Ws,S:Ns,u:Cs,U:Ls,V:Ds,w:Os,W:Fs,x:null,X:null,y:js,Y:Us,Z:Is,"%":qs},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:Yf,e:Yf,f:Jf,g:qf,G:If,H:Xf,I:Xf,j:Vf,L:Qf,m:Hf,M:Zf,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s.get(r[0].toLowerCase()),e+r[0].length):-1},q:Wf,Q:ts,s:ns,S:Gf,u:jf,U:Rf,V:Uf,w:Ff,W:Pf,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:qf,Y:If,Z:Bf,"%":Kf};function w(t,n){return function(e){var r,i,o,a=[],c=-1,l=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++c<f;)37===t.charCodeAt(c)&&(a.push(t.slice(l,c)),null!=(i=Sf[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),l=c+1);return a.push(t.slice(l,c)),a.join("")}}function k(t,n){return function(e){var r,i,o=Mf(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=kf(Mf(o.y,0,1))).getUTCDay(),r=i>4||0===i?cf.ceil(r):cf(r),r=Xl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=wf(Mf(o.y,0,1))).getDay(),r=i>4||0===i?Jl.ceil(r):Jl(r),r=Vl.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?kf(Mf(o.y,0,1)).getUTCDay():wf(Mf(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,kf(o)):wf(o)}}function M(t,n,e,r){for(var i,o,a=0,c=n.length,l=e.length;a<c;){if(r>=l)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Sf?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),Af=$f.format,$f.parse,Tf=$f.utcFormat,$f.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const nu=tu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),eu=tu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ru=tu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),iu=tu("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),ou=tu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),au=tu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),cu=tu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),lu=tu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),fu=tu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),su=tu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),uu=tu("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),hu=t=>ar(t[t.length-1]);var du=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(tu);const pu=hu(du);var gu=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(tu);const yu=hu(gu);var bu=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(tu);const mu=hu(bu);var vu=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(tu);const _u=hu(vu);var xu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(tu);const wu=hu(xu);var ku=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(tu);const Mu=hu(ku);var $u=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(tu);const Au=hu($u);var Tu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(tu);const Su=hu(Tu);var Eu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(tu);const Nu=hu(Eu);var Cu=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(tu);const Lu=hu(Cu);var zu=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(tu);const Du=hu(zu);var Ou=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(tu);const Fu=hu(Ou);var ju=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(tu);const Ru=hu(ju);var Uu=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(tu);const Pu=hu(Uu);var Iu=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(tu);const qu=hu(Iu);var Bu=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(tu);const Wu=hu(Bu);var Hu=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(tu);const Yu=hu(Hu);var Vu=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(tu);const Xu=hu(Vu);var Zu=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(tu);const Gu=hu(Zu);var Qu=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(tu);const Ju=hu(Qu);var Ku=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(tu);const th=hu(Ku);var nh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(tu);const eh=hu(nh);var rh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(tu);const ih=hu(rh);var oh=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(tu);const ah=hu(oh);var ch=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(tu);const lh=hu(ch);var fh=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(tu);const sh=hu(fh);var uh=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(tu);const hh=hu(uh);function dh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var ph=-.14861,gh=1.78277,yh=-.29227,bh=-.90649,mh=1.97294,vh=mh*bh,_h=mh*gh,xh=gh*yh-bh*ph;function wh(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof kh)return new kh(t.h,t.s,t.l,t.opacity);t instanceof Ue||(t=je(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(xh*r+vh*n-_h*e)/(xh+vh-_h),o=r-i,a=(mh*(e-i)-yh*o)/bh,c=Math.sqrt(a*a+o*o)/(mh*i*(1-i)),l=c?Math.atan2(a,o)*uc-120:NaN;return new kh(l<0?l+360:l,c,i,t.opacity)}(t):new kh(t,n,e,null==r?1:r)}function kh(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Mh(t){return function n(e){function r(n,r){var i=t((n=wh(n)).h,(r=wh(r)).h),o=rr(n.s,r.s),a=rr(n.l,r.l),c=rr(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}ye(kh,wh,be(me,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new kh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new kh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*sc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ue(255*(n+e*(ph*r+gh*i)),255*(n+e*(yh*r+bh*i)),255*(n+e*(mh*r)),this.opacity)}}));Mh(nr);var $h=Mh(rr);const Ah=$h(wh(300,.5,0),wh(-240,.5,1));var Th=$h(wh(-100,.75,.35),wh(80,1.5,.8)),Sh=$h(wh(260,.75,.35),wh(80,1.5,.8)),Eh=wh();function Nh(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Eh.h=360*t-100,Eh.s=1.5-1.5*n,Eh.l=.8-.9*n,Eh+""}var Ch=Re(),Lh=Math.PI/3,zh=2*Math.PI/3;function Dh(t){var n;return t=(.5-t)*Math.PI,Ch.r=255*(n=Math.sin(t))*n,Ch.g=255*(n=Math.sin(t+Lh))*n,Ch.b=255*(n=Math.sin(t+zh))*n,Ch+""}function Oh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Fh(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const jh=Fh(tu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Rh=Fh(tu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Uh=Fh(tu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ph=Fh(tu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ih(t){return"string"===typeof t?new An([[document.querySelector(t)]],[document.documentElement]):new An([[t]],$n)}Array.prototype.slice;function qh(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Bh(t){return function(){return t}}function Wh(t){this._context=t}function Hh(t){return new Wh(t)}function Yh(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new Bc(n)}function Vh(t){return t[0]}function Xh(t){return t[1]}function Zh(t,n){var e=Bh(!0),r=null,i=Hh,o=null,a=Yh(c);function c(c){var l,f,s,u=(c=qh(c)).length,h=!1;for(null==r&&(o=i(s=a())),l=0;l<=u;++l)!(l<u&&e(f=c[l],l,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,l,c),+n(f,l,c));if(s)return o=null,s+""||null}return t="function"===typeof t?t:void 0===t?Vh:Bh(t),n="function"===typeof n?n:void 0===n?Xh:Bh(n),c.x=function(n){return arguments.length?(t="function"===typeof n?n:Bh(+n),c):t},c.y=function(t){return arguments.length?(n="function"===typeof t?t:Bh(+t),c):n},c.defined=function(t){return arguments.length?(e="function"===typeof t?t:Bh(!!t),c):e},c.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),c):i},c.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),c):r},c}Wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};Math.abs,Math.atan2;const Gh=Math.cos,Qh=(Math.max,Math.min),Jh=Math.sin,Kh=Math.sqrt,td=Math.PI,nd=2*td;const ed=Kh(3),rd={draw(t,n){const e=.59436*Kh(n+Qh(n/28,.75)),r=e/2,i=r*ed;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},id={draw(t,n){const e=Kh(n/td);t.moveTo(e,0),t.arc(0,0,e,0,nd)}},od={draw(t,n){const e=Kh(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},ad=Kh(1/3),cd=2*ad,ld={draw(t,n){const e=Kh(n/cd),r=e*ad;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},fd={draw(t,n){const e=.62625*Kh(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},sd={draw(t,n){const e=.87559*Kh(n-Qh(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},ud={draw(t,n){const e=Kh(n),r=-e/2;t.rect(r,r,e,e)}},hd={draw(t,n){const e=.4431*Kh(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},dd=Jh(td/10)/Jh(7*td/10),pd=Jh(nd/10)*dd,gd=-Gh(nd/10)*dd,yd={draw(t,n){const e=Kh(.8908130915292852*n),r=pd*e,i=gd*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const n=nd*o/5,a=Gh(n),c=Jh(n);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},bd=Kh(3),md={draw(t,n){const e=-Kh(n/(3*bd));t.moveTo(0,2*e),t.lineTo(-bd*e,-e),t.lineTo(bd*e,-e),t.closePath()}},vd=Kh(3),_d={draw(t,n){const e=.6824*Kh(n),r=e/2,i=e*vd/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},xd=-.5,wd=Kh(3)/2,kd=1/Kh(12),Md=3*(kd/2+1),$d={draw(t,n){const e=Kh(n/Md),r=e/2,i=e*kd,o=r,a=e*kd+e,c=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,l),t.lineTo(xd*r-wd*i,wd*r+xd*i),t.lineTo(xd*o-wd*a,wd*o+xd*a),t.lineTo(xd*c-wd*l,wd*c+xd*l),t.lineTo(xd*r+wd*i,xd*i-wd*r),t.lineTo(xd*o+wd*a,xd*a-wd*o),t.lineTo(xd*c+wd*l,xd*l-wd*c),t.closePath()}},Ad={draw(t,n){const e=.6189*Kh(n-Qh(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Td=[id,od,ld,ud,yd,md,$d],Sd=[id,sd,Ad,_d,rd,hd,fd];function Ed(){}function Nd(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Cd(t){this._context=t}function Ld(t){this._context=t}function zd(t){this._context=t}Cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nd(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ld.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Nd(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Nd(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};class Dd{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}function Od(t,n){this._basis=new Cd(t),this._beta=n}Od.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,c=n[e]-o,l=-1;++l<=e;)r=l/e,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*n[l]+(1-this._beta)*(o+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const Fd=function t(n){function e(t){return 1===n?new Cd(t):new Od(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function jd(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Rd(t,n){this._context=t,this._k=(1-n)/6}Rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jd(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:jd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Ud=function t(n){function e(t){return new Rd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Pd(t,n){this._context=t,this._k=(1-n)/6}Pd.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:jd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Id=function t(n){function e(t){return new Pd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function qd(t,n){this._context=t,this._k=(1-n)/6}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Bd=function t(n){function e(t){return new qd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Wd(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Hd(t,n){this._context=t,this._alpha=n}Hd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Wd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Yd=function t(n){function e(t){return n?new Hd(t,n):new Rd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Vd(t,n){this._context=t,this._alpha=n}Vd.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Wd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Xd=function t(n){function e(t){return n?new Vd(t,n):new Pd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Zd(t,n){this._context=t,this._alpha=n}Zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Gd=function t(n){function e(t){return n?new Zd(t,n):new qd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Qd(t){this._context=t}function Jd(t){return t<0?-1:1}function Kd(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(Jd(o)+Jd(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function tp(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function np(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*n,o-c,a-c*e,o,a)}function ep(t){this._context=t}function rp(t){this._context=new ip(t)}function ip(t){this._context=t}function op(t){this._context=t}function ap(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function cp(t,n){this._context=t,this._t=n}function lp(t,n,e){this.k=t,this.x=n,this.y=e}Qd.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:np(this,this._t0,tp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,np(this,tp(this,e=Kd(this,t,n)),e);break;default:np(this,this._t0,e=Kd(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(rp.prototype=Object.create(ep.prototype)).point=function(t,n){ep.prototype.point.call(this,n,t)},ip.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=ap(t),i=ap(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},lp.prototype={constructor:lp,scale:function(t){return 1===t?this:new lp(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new lp(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new lp(1,0,0);function fp(t){return null!=t&&!Number.isNaN(t)}function sp(t,n){return+fp(n)-+fp(t)||r(t,n)}function up(t,n){return+fp(n)-+fp(t)||i(t,n)}function hp(t){return null!=t&&""!==`${t}`}function dp(t){return isFinite(t)?t:NaN}function pp(t){return t>0&&isFinite(t)?t:NaN}function gp(t){return t<0&&isFinite(t)?t:NaN}lp.prototype;const yp=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function bp(t,n){return yp.test(t+="")?new Date(t):"function"===typeof n?n(t):n}function mp(t){if(null==t)return;return i(t[0],t[t.length-1])}const vp=1e3,_p=6e4,xp=36e5,wp=864e5,kp=7*wp,Mp=30*wp,$p=365*wp,Ap=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",vp],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",_p],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",xp],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",wp],["2 days",2*wp],["week",kp],["2 weeks",2*kp],["month",Mp],["3 months",3*Mp],["6 months",6*Mp],["year",$p],["2 years",2*$p],["5 years",5*$p],["10 years",10*$p],["20 years",20*$p],["50 years",50*$p],["100 years",100*$p]],Tp=new Map([["second",vp],["minute",_p],["hour",xp],["day",wp],["monday",kp],["tuesday",kp],["wednesday",kp],["thursday",kp],["friday",kp],["saturday",kp],["sunday",kp],["week",kp],["month",Mp],["year",$p]]),Sp=new Map([["second",ql],["minute",Bl],["hour",Hl],["day",Vl],["monday",Jl],["tuesday",Kl],["wednesday",tf],["thursday",nf],["friday",ef],["saturday",rf],["sunday",Ql],["week",Ql],["month",df],["year",gf]]),Ep=new Map([["second",ql],["minute",Wl],["hour",Yl],["day",Zl],["monday",cf],["tuesday",lf],["wednesday",ff],["thursday",sf],["friday",uf],["saturday",hf],["sunday",af],["week",af],["month",pf],["year",yf]]),Np=Symbol("intervalDuration"),Cp=Symbol("intervalType");for(const[it,ck]of Sp)ck[Np]=Tp.get(it),ck[Cp]="time";for(const[it,ck]of Ep)ck[Np]=Tp.get(it),ck[Cp]="utc";const Lp=[["year",yf,"utc"],["month",pf,"utc"],["day",Zl,"utc",6*Mp],["hour",Yl,"utc",3*wp],["minute",Wl,"utc",216e5],["second",ql,"utc",18e5]],zp=[["year",gf,"time"],["month",df,"time"],["day",Vl,"time",6*Mp],["hour",Hl,"time",3*wp],["minute",Bl,"time",216e5],["second",ql,"time",18e5]],Dp=[Lp[0],zp[0],Lp[1],zp[1],Lp[2],zp[2],...Lp.slice(3)];function Op(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=Ep.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Fp(t){return Rp(Op(t),"time")}function jp(t){return Rp(Op(t),"utc")}function Rp(t,n){let[e,r]=t,i=("time"===n?Sp:Ep).get(e);return r>1&&(i=i.every(r),i[Np]=Tp.get(e)*r,i[Cp]=n),i}function Up(t,n){if(!(n>1))return;const e=t[Np];if(!Ap.some((t=>{let[,n]=t;return n===e})))return;if(e%wp===0&&wp<e&&e<Mp)return;const[r]=Ap[o((t=>{let[,n]=t;return Math.log(n)})).center(Ap,Math.log(e*n))];return("time"===t[Cp]?Fp:jp)(r)}function Pp(t,n,e){const r="time"===n?Af:Tf;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return qp(r(".%L"),r(":%M:%S"),i);case"second":return qp(r(":%S"),r("%-I:%M"),i);case"minute":return qp(r("%-I:%M"),r("%p"),i);case"hour":return qp(r("%-I %p"),r("%b %-d"),i);case"day":return qp(r("%-d"),r("%b"),i);case"month":return qp(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Ip(t,n,e){const r=D(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}(n,((t,n)=>Math.abs(n-t))));if(r<1e3)return Pp("millisecond","utc",e);for(const[i,o,a,c]of function(t){return"time"===t?zp:"utc"===t?Lp:Dp}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every((t=>o.floor(t)>=t)))return Pp(i,a,e)}}function qp(t,n,e){return(r,i,o)=>{const a=t(r,i),c=n(r,i),l=i-mp(o);return i!==l&&void 0!==o[l]&&c===n(o[l],l)?a:e(a,c)}}const Bp=Object.getPrototypeOf(Uint8Array),Wp=Object.prototype.toString;function Hp(t){return t instanceof Array||t instanceof Bp}function Yp(t){return t instanceof Bp&&!function(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}(t)}function Vp(t){return t?.prototype instanceof Bp&&!function(t){return t===BigInt64Array||t===BigUint64Array}(t)}const Xp=Symbol("reindex");function Zp(t,n,e){const r=typeof n;return"string"===r?oy(t)?Jp(t.getChild(n),e):Gp(t,tg(n),e):"function"===r?Gp(t,n,e):"number"===r||n instanceof Date||"boolean"===r?_g(t,fg(n),e):"function"===typeof n?.transform?Qp(n.transform(t),e):function(t,n){return null!=t&&n?Cg(t,n):t}(Qp(n,e),t?.[Xp])}function Gp(t,n,e){return _g(t,Vp(e)?(t,e)=>ug(n(t,e)):n,e)}function Qp(t,n){return void 0===n?vg(t):ay(t)?Jp(t,n):t instanceof n?t:n.from(t,Vp(n)&&!Yp(t)?ug:void 0)}function Jp(t,n){return null==t?t:void 0!==n&&n!==Array||!function(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}(t.type)?Qp(t.toArray(),n):hg(t.toArray())}const Kp=[null],tg=t=>n=>{const e=n[t];return void 0===e&&"Feature"===n.type?n.properties?.[t]:e},ng={transform:Ng},eg={transform:t=>t},rg=()=>1,ig=()=>!0,og=t=>null==t?t:`${t}`,ag=t=>null==t?t:+t,cg=t=>t?t[0]:void 0,lg=t=>t?t[1]:void 0,fg=t=>()=>t;function sg(t){return Yp(t)?t:_g(t,ug,Float64Array)}function ug(t){return null==t?NaN:Number(t)}function hg(t){return _g(t,dg)}function dg(t){return t instanceof Date&&!isNaN(t)?t:"string"===typeof t?bp(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function pg(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:Qg(t)?[void 0,t]:[t,void 0]}function gg(t,n){return void 0===t&&(t=n),null===t||"number"===typeof t?[void 0,t]:[t,void 0]}function yg(t,n,e){if(null!=t)return bg(t,n,e)}function bg(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function mg(t){return oy(t)?t:vg(t)}function vg(t){if(null==t||Hp(t))return t;if(ay(t))return Jp(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function _g(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Array;return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function xg(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array;return t instanceof n?t.slice():n.from(t)}function wg(t){let{y:n,y1:e,y2:r}=t;return void 0!==n||void 0!==e||void 0!==r}function kg(t){return t?.toString===Wp}function Mg(t){return kg(t)&&(void 0!==t.type||void 0!==t.domain)}function $g(t){return kg(t)&&"function"!==typeof t.transform}function Ag(t){return $g(t)&&void 0===t.value&&void 0===t.channel}function Tg(t,n){return void 0===t&&void 0===n?[cg,lg]:[t,n]}function Sg(){let{z:t,fill:n,stroke:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t&&([t]=pg(n)),void 0===t&&([t]=pg(e)),t}function Eg(t){return Hp(t)?t.length:t?.numRows}function Ng(t){const n=Eg(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Cg(t,n){return Hp(t)?_g(n,(n=>t[n]),t.constructor):_g(n,(n=>t.at(n)))}function Lg(t){return null!==t&&"object"===typeof t?t.valueOf():t}function zg(t){let n;return[{transform:()=>n,label:Og(t)},t=>n=t]}function Dg(t){return null==t?[t]:zg(t)}function Og(t,n){return"string"===typeof t?t:t&&void 0!==t.label?t.label:n}function Fg(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Yg(r)||Yg(i)?_g(r,((t,n)=>new Date((+r[n]+ +i[n])/2))):_g(r,((t,n)=>(+r[n]+ +i[n])/2),Float64Array)},label:t.label}}function jg(t,n){const e=Rg(n?.interval,n?.type);return e?_g(t,e):t}function Rg(t,n){const e=Ug(t,n);return e&&(t=>fp(t)?e.floor(t):t)}function Ug(t,n){if(null!=t){if("number"===typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(t*n+Math.floor(e))/n},range:(t,e)=>Z(Math.ceil(t*n),e*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+n*Math.floor(e)},range:(t,e)=>Z(Math.ceil(t/n),e/n).map((t=>t*n))}}(t);if("string"===typeof t)return("time"===n?Fp:jp)(t);if("function"!==typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!==typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Pg(t,n){if((t=Ug(t,n))&&"function"!==typeof t.range)throw new Error("invalid interval: missing range method");return t}function Ig(t){return"function"===typeof t?.range}function qg(t){return void 0===t||$g(t)?t:{value:t}}function Bg(t){return t&&"function"===typeof t[Symbol.iterator]}function Wg(t){for(const n of t)if(null!=n)return"object"!==typeof n||n instanceof Date}function Hg(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function Yg(t){for(const n of t)if(null!=n)return n instanceof Date}function Vg(t){for(const n of t)if(null!=n)return"string"===typeof n&&isNaN(n)&&bp(n)}function Xg(t){for(const n of t)if(null!=n){if("string"!==typeof n)return!1;if(n.trim())return!isNaN(n)}}function Zg(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const Gg=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Qg(t){return"string"===typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Gg.has(t))}function Jg(t){return"number"===typeof t&&(0<=t&&t<=1||isNaN(t))}function Kg(t){return null==t||ty(t)}function ty(t){return/^\s*none\s*$/i.test(t)}function ny(t,n){return yg(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ey(){return ny(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"middle","frameAnchor")}function ry(t){return Bg(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]})))}(t):t}function iy(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=bg(t,"clip",["frame","sphere"])),t}function oy(t){return t&&"function"===typeof t.getChild&&"function"===typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function ay(t){return t&&"function"===typeof t.toArray&&t.type}const cy=Symbol("position"),ly=Symbol("color"),fy=Symbol("radius"),sy=Symbol("length"),uy=Symbol("opacity"),hy=Symbol("symbol"),dy=Symbol("projection"),py=new Map([["x",cy],["y",cy],["fx",cy],["fy",cy],["r",fy],["color",ly],["opacity",uy],["symbol",hy],["length",sy],["projection",dy]]);const gy=2/Math.sqrt(3),yy={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*gy,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},by=new Map([["asterisk",rd],["circle",id],["cross",od],["diamond",ld],["diamond2",fd],["hexagon",yy],["plus",sd],["square",ud],["square2",hd],["star",yd],["times",Ad],["triangle",md],["triangle2",_d],["wye",$d]]);function my(t){return t&&"function"===typeof t.draw}function vy(t){return!!my(t)||"string"===typeof t&&by.has(t.toLowerCase())}function _y(t){if(null==t||my(t))return t;const n=by.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function xy(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];for(const{name:i}of t)if(e.includes(i))return!0;return!1}function wy(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ky;const r=Object.entries(t);return null!=n.title&&void 0===t.title&&r.push(["title",Dy]),null!=n.href&&void 0===t.href&&r.push(["href",zy]),r.filter((t=>{let[,n]=t;return void 0!==n})).map((t=>{let[r,i]=t;return null===i?function(t){return{name:t,initialize(){},scope(){},reduce(){}}}(r):e(r,i,n)}))}function ky(t,n,e){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:My;kg(n)&&"reduce"in n&&(r=n.scale,n=n.reduce);const o=i(t,n,e),[a,c]=zg(o.label);let l;return{name:t,output:void 0===r?a:{value:a,scale:r},initialize(t){o.initialize(t),l=c([])},scope(t,n){o.scope(t,n)},reduce(t,n){l.push(o.reduce(t,n))}}}function My(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ay;const i=function(t,n){if(void 0!==n[t])return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return n[t]}(t,e),o=r(n,i);let a,c;return{label:Og(o===Fy?null:i,o.label),initialize(t){a=void 0===i?t:Zp(t,i),"data"===o.scope&&(c=o.reduceIndex(Ng(t),a))},scope(t,n){o.scope===t&&(c=o.reduceIndex(n,a))},reduce:(t,n)=>null==o.scope?o.reduceIndex(t,a,n):o.reduceIndex(t,a,c,n)}}function $y(t,n){return n?$(t,(t=>n[t])):[[,t]]}function Ay(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ty;if(null==t)return e(t);if("function"===typeof t.reduceIndex)return t;if("function"===typeof t.reduce&&kg(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"===typeof t)return r=t,{reduceIndex:(t,n,e)=>r(Cg(n,t),e)};var r;if(/^p\d{2}$/i.test(t))return Ny(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>R(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return zy;case"last":return Oy;case"identity":return Ly;case"count":return Fy;case"distinct":return jy;case"sum":return null==n?Fy:Ry;case"proportion":return Uy(n,"data");case"proportion-facet":return Uy(n,"facet");case"deviation":return Ny(y);case"min":return Ny(O);case"min-index":return Ny(Y);case"max":return Ny(D);case"max-index":return Ny(B);case"mean":return Cy(W);case"median":return Cy(H);case"variance":return Ny(g);case"mode":return Ny(V)}return e(t)}function Ty(t){throw new Error(`invalid reduce: ${t}`)}function Sy(t,n){for(const e in n){const r=n[e];if(void 0!==r&&!t.some((t=>t.name===e)))return r}}function Ey(t,n,e){if(n){const e=n.output.transform(),r=(t,n)=>sp(e[t],e[n]);t.forEach((t=>t.sort(r)))}e&&t.forEach((t=>t.reverse()))}function Ny(t){return{reduceIndex:(n,e)=>t(n,(t=>e[t]))}}function Cy(t){return{reduceIndex(n,e){const r=t(n,(t=>e[t]));return Yg(e)?new Date(r):r}}}const Ly={reduceIndex:(t,n)=>Cg(n,t)},zy={reduceIndex:(t,n)=>n[t[0]]},Dy={reduceIndex(t,n){const e=E(A(t,(t=>t.length),(t=>n[t])),lg),r=e.slice(-5).reverse();if(r.length<e.length){const t=e.slice(0,-4);r[4]=[`\u2026 ${t.length.toLocaleString("en-US")} more`,Q(t,lg)]}return r.map((t=>{let[n,e]=t;return`${n} (${e.toLocaleString("en-US")})`})).join("\n")}},Oy={reduceIndex:(t,n)=>n[t[t.length-1]]},Fy={label:"Frequency",reduceIndex:t=>t.length},jy={label:"Distinct",reduceIndex(t,n){const e=new v;for(const r of t)e.add(n[r]);return e.size}},Ry=Ny(Q);function Uy(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.length/e}}:{scope:n,reduceIndex:function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Q(t,(t=>n[t]))/e}}}const Py={reduceIndex(t,n,e){let{z:r}=e;return r}};function Iy(t,n,e){let{scale:r,type:i,value:o,filter:a,hint:c,label:l=Og(o)}=n;return void 0===c&&"function"===typeof o?.transform&&(c=o.hint),qy(e,{scale:r,type:i,value:Zp(t,o),label:l,filter:a,hint:c})}function qy(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&Zg(r,Qg)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&Zg(r,Jg)?null:"opacity",n.defaultScale="opacity";break;case"symbol":!0!==e&&Zg(r,vy)?(n.scale=null,n.value=_g(r,_y)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=py.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!py.has(e))throw new Error(`unknown scale: ${e}`);return n}function By(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Wy(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const n=r[e[o][0]];for(const e of t[o])i[e]=n}return n}function Hy(t,n,e){const r=Yy(t,n);return _g(Yy(t,e),((t,n)=>Math.abs(t-r[n])),Float64Array)}function Yy(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function Vy(t){if(null==t||"function"===typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return Xy;case"descending":return Zy}throw new Error(`invalid order: ${t}`)}function Xy(t,n){let[e,r]=t,[i,o]=n;return sp(r,o)||sp(e,i)}function Zy(t,n){let[e,r]=t,[i,o]=n;return up(r,o)||sp(e,i)}function Gy(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const Qy=new Map([["accent",eu],["category10",nu],["dark2",ru],["observable10",iu],["paired",ou],["pastel1",au],["pastel2",cu],["set1",lu],["set2",fu],["set3",su],["tableau10",uu]]);const Jy=new Map([...Qy,["brbg",tb(du,pu)],["prgn",tb(gu,yu)],["piyg",tb(bu,mu)],["puor",tb(vu,_u)],["rdbu",tb(xu,wu)],["rdgy",tb(ku,Mu)],["rdylbu",tb($u,Au)],["rdylgn",tb(Tu,Su)],["spectral",tb(Eu,Nu)],["burd",nb(xu,wu)],["buylrd",nb($u,Au)],["blues",Ky(nh,eh)],["greens",Ky(rh,ih)],["greys",Ky(oh,ah)],["oranges",Ky(uh,hh)],["purples",Ky(ch,lh)],["reds",Ky(fh,sh)],["turbo",eb(Oh)],["viridis",eb(jh)],["magma",eb(Rh)],["inferno",eb(Uh)],["plasma",eb(Ph)],["cividis",eb(dh)],["cubehelix",eb(Ah)],["warm",eb(Th)],["cool",eb(Sh)],["bugn",Ky(Cu,Lu)],["bupu",Ky(zu,Du)],["gnbu",Ky(Ou,Fu)],["orrd",Ky(ju,Ru)],["pubu",Ky(Iu,qu)],["pubugn",Ky(Uu,Pu)],["purd",Ky(Bu,Wu)],["rdpu",Ky(Hu,Yu)],["ylgn",Ky(Zu,Gu)],["ylgnbu",Ky(Vu,Xu)],["ylorbr",Ky(Qu,Ju)],["ylorrd",Ky(Ku,th)],["rainbow",rb(Nh)],["sinebow",rb(Dh)]]);function Ky(t,n){return e=>{let{length:r}=e;return 1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?jc(n,r):t[r])}}function tb(t,n){return e=>{let{length:r}=e;return 2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?jc(n,r):t[r])}}function nb(t,n){return e=>{let{length:r}=e;return 2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?jc((t=>n(1-t)),r):t[r].slice().reverse())}}function eb(t){return n=>{let{length:e}=n;return jc(t,Math.max(2,Math.floor(e)))}}function rb(t){return n=>{let{length:e}=n;return jc(t,Math.floor(e)+1).slice(0,-1)}}function ib(t){const n=`${t}`.toLowerCase();if(!Jy.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Jy.get(n)}function ob(t,n){const e=ib(t),r="function"===typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const ab=new Map([["brbg",pu],["prgn",yu],["piyg",mu],["puor",_u],["rdbu",wu],["rdgy",Mu],["rdylbu",Au],["rdylgn",Su],["spectral",Nu],["burd",t=>wu(1-t)],["buylrd",t=>Au(1-t)],["blues",eh],["greens",ih],["greys",ah],["purples",lh],["reds",sh],["oranges",hh],["turbo",Oh],["viridis",jh],["magma",Rh],["inferno",Uh],["plasma",Ph],["cividis",dh],["cubehelix",Ah],["warm",Th],["cool",Sh],["bugn",Lu],["bupu",Du],["gnbu",Fu],["orrd",Ru],["pubugn",Pu],["pubu",qu],["purd",Wu],["rdpu",Yu],["ylgnbu",Xu],["ylgn",Gu],["ylorbr",Ju],["ylorrd",th],["rainbow",Nh],["sinebow",Dh]]);function cb(t){const n=`${t}`.toLowerCase();if(!ab.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return ab.get(n)}const lb=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const fb=t=>n=>t(1-n),sb=[0,1],ub=new Map([["number",oe],["rgb",ir],["hsl",fc],["hcl",Nc],["lab",function(t,n){var e=rr((t=vc(t)).l,(n=vc(n)).l),r=rr(t.a,n.a),i=rr(t.b,n.b),o=rr(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}]]);function hb(t){const n=`${t}`.toLowerCase();if(!ub.has(n))throw new Error(`unknown interpolator: ${n}`);return ub.get(n)}function db(t,n,e,r){let{type:i,nice:o,clamp:a,zero:c,domain:l=_b(t,e),unknown:f,round:s,scheme:u,interval:h,range:d=(py.get(t)===fy?wb(e,l):py.get(t)===sy?kb(e,l):py.get(t)===uy?sb:void 0),interpolate:p=(py.get(t)===ly?null==u&&void 0!==d?ir:cb(void 0!==u?u:"cyclical"===i?"rainbow":"turbo"):s?cc:oe),reverse:g}=r;if(h=Pg(h,i),"cyclical"!==i&&"sequential"!==i||(i="linear"),"function"!==typeof p&&(p=hb(p)),g=!!g,void 0!==d){if((l=vg(l)).length!==(d=vg(d)).length){if(1===p.length)throw new Error("invalid piecewise interpolator");p=Fc(p,d),d=void 0}}if(1===p.length?(g&&(p=fb(p),g=!1),void 0===d&&(d=Float64Array.from(l,((t,n)=>n/(l.length-1))),2===d.length&&(d=sb)),n.interpolate((d===sb?fg:Ab)(p))):n.interpolate(p),c){const[t,n]=b(l);if(t>0||n<0){l=xg(l);(mp(l)||1)===Math.sign(t)?l[0]=0:l[l.length-1]=0}}return g&&(l=at(l)),n.domain(l).unknown(f),o&&(n.nice(function(t,n){return!0===t?void 0:"number"===typeof t?t:function(t,n){if((t=Pg(t,n))&&"function"!==typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(o,i)),l=n.domain()),void 0!==d&&n.range(d),a&&n.clamp(a),{type:i,domain:l,range:d,scale:n,interpolate:p,interval:h}}function pb(t,n,e){let{exponent:r=1,...i}=e;return db(t,Sl().exponent(r),n,{...i,type:"pow"})}function gb(t,n,e){let{base:r=10,domain:i=Mb(n),...o}=e;return db(t,vl().base(r),n,{...o,domain:i})}function yb(t,n,e){let{constant:r=1,...i}=e;return db(t,kl().constant(r),n,i)}function bb(t,n,e){let{range:r,quantiles:i=(void 0===r?5:(r=[...r]).length),n:o=i,scheme:a="rdylbu",domain:c=$b(n),unknown:l,interpolate:f,reverse:s}=e;return void 0===r&&(r=void 0!==f?jc(f,o):py.get(t)===ly?ob(a,o):void 0),c.length>0&&(c=El(c,void 0===r?{length:o}:r).quantiles()),mb(t,n,{domain:c,range:r,reverse:s,unknown:l})}function mb(t,n,e){let{domain:r=[0],unknown:o,scheme:a="rdylbu",interpolate:c,range:l=(void 0!==c?jc(c,r.length+1):py.get(t)===ly?ob(a,r.length+1):void 0),reverse:f}=e;r=vg(r);const s=mp(r);if(!isNaN(s)&&!function(t,n){for(let e=1,r=t.length,o=t[0];e<r;++e){const r=i(o,o=t[e]);if(0!==r&&r!==n)return!1}return!0}(r,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(l=at(l)),{type:"threshold",scale:Nl(s<0?at(r):r,void 0===l?[]:l).unknown(o),domain:r,range:l}}function vb(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dp;return t.length?[O(t,(t=>{let{value:e}=t;return void 0===e?e:O(e,n)})),D(t,(t=>{let{value:e}=t;return void 0===e?e:D(e,n)}))]:[0,1]}function _b(t,n){const e=py.get(t);return(e===fy||e===uy||e===sy?xb:vb)(n)}function xb(t){return[0,t.length?D(t,(t=>{let{value:n}=t;return void 0===n?n:D(n,dp)})):1]}function wb(t,n){const e=t.find((t=>{let{radius:n}=t;return void 0!==n}));if(void 0!==e)return[0,e.radius];const r=R(t,.5,(t=>{let{value:n}=t;return void 0===n?NaN:R(n,.25,pp)})),i=n.map((t=>3*Math.sqrt(t/r))),o=30/D(i);return o<1?i.map((t=>t*o)):i}function kb(t,n){const e=H(t,(t=>{let{value:n}=t;return void 0===n?NaN:H(n,Math.abs)})),r=n.map((t=>12*t/e)),i=60/D(r);return i<1?r.map((t=>t*i)):r}function Mb(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return vb(t,pp);if(e<0)return vb(t,gp)}return[1,10]}function $b(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function Ab(t){return(n,e)=>r=>t(n+r*(e-n))}let Tb,Sb=0;function Eb(t){t!==Tb&&(Tb=t,console.warn(t),++Sb)}function Nb(t,n,e,r,o){let{type:a,nice:c,clamp:l,domain:f=vb(r),unknown:s,pivot:u=0,scheme:h,range:d,symmetric:p=!0,interpolate:g=(py.get(t)===ly?null==h&&void 0!==d?ir:cb(void 0!==h?h:"rdbu"):oe),reverse:y}=o;u=+u,f=vg(f);let[b,m]=f;if(f.length>2&&Eb(`Warning: the diverging ${t} scale domain contains extra elements.`),i(b,m)<0&&([b,m]=[m,b],y=!y),b=Math.min(b,u),m=Math.max(m,u),"function"!==typeof g&&(g=hb(g)),void 0!==d&&(g=1===g.length?Ab(g)(...d):Fc(g,d)),y&&(g=fb(g)),p){const t=e.apply(u),n=t-e.apply(b),r=e.apply(m)-t;n<r?b=e.invert(t-r):n>r&&(m=e.invert(t+n))}return n.domain([b,u,m]).unknown(s).interpolator(g),l&&n.clamp(l),c&&n.nice(c),{type:a,domain:[b,m],pivot:u,interpolate:g,scale:n}}function Cb(t,n,e){return Nb(t,Gs(),Ob,n,e)}function Lb(t,n,e){let{exponent:r=1,...i}=e;return Nb(t,Ks().exponent(r=+r),function(t){return.5===t?jb:{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t)}}(r),n,{...i,type:"diverging-pow"})}function zb(t,n,e){let{base:r=10,pivot:i=1,domain:o=vb(n,i<0?gp:pp),...a}=e;return Nb(t,Qs().base(r=+r),Fb,n,{domain:o,pivot:i,...a})}function Db(t,n,e){let{constant:r=1,...i}=e;return Nb(t,Js().constant(r=+r),function(t){return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),invert:n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}}(r),n,i)}const Ob={apply:t=>t,invert:t=>t},Fb={apply:Math.log,invert:Math.exp},jb={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function Rb(t,n,e,r){return db(t,n,e,r)}function Ub(t,n,e){return Rb(t,function(){return Hc.apply(Vs(_f,xf,gf,df,Ql,Vl,Hl,Bl,ql,Af).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Pb(t,n,e){return Rb(t,function(){return Hc.apply(Vs(mf,vf,yf,pf,af,Xl,Yl,Wl,ql,Tf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Ib=Symbol("ordinal");function qb(t,n,e,r){let{type:i,interval:o,domain:a,range:c,reverse:l,hint:f}=r;return o=Pg(o,i),void 0===a&&(a=Hb(e,o,t)),"categorical"!==i&&i!==Ib||(i="ordinal"),l&&(a=at(a)),a=n.domain(a).domain(),void 0!==c&&("function"===typeof c&&(c=c(a)),n.range(c)),{type:i,domain:a,range:c,scale:n,hint:f,interval:o}}function Bb(t,n,e){let r,{type:i,interval:o,domain:a,range:c,scheme:l,unknown:f,...s}=e;if(o=Pg(o,i),void 0===a&&(a=Hb(n,o,t)),py.get(t)===hy)r=function(t){return{fill:Yb(t,"fill"),stroke:Yb(t,"stroke")}}(n),c=void 0===c?function(t){return Kg(t.fill)?Sd:Td}(r):_g(c,_y);else if(py.get(t)===ly&&(void 0!==c||"ordinal"!==i&&i!==Ib||(c=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"greys";const e=new Set,[r,i]=ob(n,2);for(const o of t)if(null!=o)if(!0===o)e.add(i);else{if(!1!==o)return;e.add(r)}return[...e]}(a,l),void 0!==c&&(l=void 0)),void 0===l&&void 0===c&&(l="ordinal"===i?"turbo":"observable10"),void 0!==l))if(void 0!==c){const t=cb(l),n=c[0],e=c[1]-c[0];c=r=>{let{length:i}=r;return jc((r=>t(n+e*r)),i)}}else c=ib(l);if(f===Vc)throw new Error(`implicit unknown on ${t} scale is not supported`);return qb(t,Xc().unknown(f),n,{...s,type:i,domain:a,range:c,hint:r})}function Wb(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=qb(r,t,n,e)).round=i,t}function Hb(t,n,e){const r=new v;for(const{value:i,domain:o}of t){if(void 0!==o)return o();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=b(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&py.get(e)===cy)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return E(r,sp)}function Yb(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function Vb(t){let{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:c,nice:l,clamp:f,zero:s,align:u,padding:h,projection:d,facet:{label:p=n}={},...g}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const y={};for(const[b,m]of t){const t=g[b],e=em(b,m,{round:py.get(b)===cy?c:void 0,nice:l,clamp:f,zero:s,align:u,padding:h,projection:d,...t});if(e){let{label:c=("fx"===b||"fy"===b?p:n),percent:l,transform:f,inset:s,insetTop:u=(void 0!==s?s:"y"===b?r:0),insetRight:h=(void 0!==s?s:"x"===b?i:0),insetBottom:d=(void 0!==s?s:"y"===b?o:0),insetLeft:g=(void 0!==s?s:"x"===b?a:0)}=t||{};if(null==f)f=void 0;else if("function"!==typeof f)throw new Error("invalid scale transform; not a function");e.percent=!!l,e.label=void 0===c?Zb(m,e):c,e.transform=f,"x"===b||"fx"===b?(e.insetLeft=+g,e.insetRight=+h):"y"!==b&&"fy"!==b||(e.insetTop=+u,e.insetBottom=+d),y[b]=e}}return y}function Xb(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:o,interval:a,label:c}=i;n[r]=hm(i),e[r]=t,t.type=o,null!=a&&(t.interval=a),null!=c&&(t.label=c)}return e}function Zb(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;for(const{label:r}of n)if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return;if(void 0!==t)return!cm(e)&&e.percent&&(t=`${t} (%)`),{inferred:!0,toString:()=>t}}function Gb(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:l,marginBottom:f,marginLeft:s}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,l),marginBottom:Math.max(r,f),marginLeft:Math.max(i,s),width:o,height:a}}function Qb(t,n){let{fx:e,fy:r}=t;const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:c,width:l,height:f}=Gb(n);return{marginTop:i,marginRight:o,marginBottom:a,marginLeft:c,width:e?e.scale.bandwidth()+c+o:l,height:r?r.scale.bandwidth()+i+a:f,facet:{width:l,height:f}}}function Jb(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,c=o+e,l=i-a-r;t.range=[c,Math.max(c,l)],cm(t)||(t.range=nm(t)),t.scale.range(t.range)}tm(t)}function Kb(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,c=o+e,l=i-a-r;t.range=[Math.max(c,l),c],cm(t)?t.range.reverse():t.range=nm(t),t.scale.range(t.range)}tm(t)}function tm(t){void 0===t.round&&function(t){let{type:n}=t;return"point"===n||"band"===n}(t)&&function(t){let{scale:n}=t;const e=n.domain().length,[r,i]=n.range(),o=n.paddingInner?n.paddingInner():1,a=n.paddingOuter?n.paddingOuter():n.padding(),c=e-o,l=Math.abs(i-r)/Math.max(1,c+2*a);return(l-Math.floor(l))*c}(t)<=30&&t.scale.round(!0)}function nm(t){const n=t.scale.domain().length+lm(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},((t,i)=>e+i/(n-1)*(r-e)))}function em(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(t,n,e){let{type:r,domain:i,range:o,scheme:a,pivot:c,projection:l}=e;if(r=im(r),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==l||(r=om);for(const s of n){const t=im(s.type);if(void 0!==t)if(void 0===r)r=t;else if(r!==t)throw new Error(`scale incompatible with channel: ${r} !== ${t}`)}if(r===om)return;if(void 0!==r)return r;if(void 0===i&&!n.some((t=>{let{value:n}=t;return void 0!==n})))return;const f=py.get(t);if(f===fy)return"sqrt";if(f===uy||f===sy)return"linear";if(f===hy)return"ordinal";if((i||o||[]).length>2)return am(f);if(void 0!==i){if(Hg(i))return am(f);if(Yg(i))return"utc"}else{const t=n.map((t=>{let{value:n}=t;return n})).filter((t=>void 0!==t));if(t.some(Hg))return am(f);if(t.some(Yg))return"utc"}if(f===ly){if(null!=c||function(t){return null!=t&&lb.has(`${t}`.toLowerCase())}(a))return"diverging";if(function(t){return null!=t&&Qy.has(`${t}`.toLowerCase())}(a))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&cm({type:r})){const e=n.map((t=>{let{value:n}=t;return n})).filter((t=>void 0!==t));e.some(Yg)?Eb(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${rm(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${rm(r)}".`):e.some(Vg)?Eb(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${rm(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${rm(r)}".`):e.some(Xg)&&Eb(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${rm(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${rm(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=sm(n,e,sg);break;case"identity":switch(py.get(t)){case cy:e=sm(n,e,sg);break;case hy:e=sm(n,e,um)}break;case"utc":case"time":e=sm(n,e,hg)}switch(r){case"diverging":return Cb(t,n,e);case"diverging-sqrt":return function(t,n,e){return Lb(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return Lb(t,n,e);case"diverging-log":return zb(t,n,e);case"diverging-symlog":return Db(t,n,e);case"categorical":case"ordinal":case Ib:return Bb(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return db(t,fl(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return pb(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return mb(t,0,e);case"quantile":return bb(t,n,e);case"quantize":return function(t,n,e){let{range:r,n:i=(void 0===r?5:(r=[...r]).length),scheme:o="rdylbu",domain:a=_b(t,n),unknown:c,interpolate:l,reverse:f}=e;const[s,u]=b(a);let h;return void 0===r?(h=et(s,u,i),h[0]<=s&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),i=h.length+1,r=void 0!==l?jc(l,i):py.get(t)===ly?ob(o,i):void 0):(h=jc(oe(s,u),i+1).slice(1,-1),s instanceof Date&&(h=h.map((t=>new Date(t))))),mp(vg(a))<0&&h.reverse(),mb(t,0,{domain:h,range:r,reverse:f,unknown:c})}(t,n,e);case"pow":return pb(t,n,e);case"log":return gb(t,n,e);case"symlog":return yb(t,n,e);case"utc":return Pb(t,n,e);case"time":return Ub(t,n,e);case"point":return function(t,n,e){let{align:r=.5,padding:i=.5,...o}=e;return Wb(Qc().align(r).padding(i),n,o,t)}(t,n,e);case"band":return function(t,n,e){let{align:r=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...c}=e;return Wb(Zc().align(r).paddingInner(o).paddingOuter(a),n,c,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=py.get(t),n===cy||n===fy||n===sy||n===uy?sl():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function rm(t){return"symbol"===typeof t?t.description:t}function im(t){return"string"===typeof t?`${t}`.toLowerCase():t}const om={toString:()=>"projection"};function am(t){switch(t){case cy:return"point";case ly:return Ib;default:return"ordinal"}}function cm(t){let{type:n}=t;return"ordinal"===n||"point"===n||"band"===n||n===Ib}function lm(t){let{type:n}=t;return"threshold"===n}function fm(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function sm(t,n,e){let{domain:r,...i}=n;for(const o of t)void 0!==o.value&&(void 0===r&&(r=o.value?.domain),o.value=e(o.value));return{domain:void 0===r?r:e(r),...i}}function um(t){return _g(t,_y)}function hm(t){let{scale:n,type:e,domain:r,range:i,interpolate:o,interval:a,transform:c,percent:l,pivot:f}=t;if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const s=n.unknown?n.unknown():void 0;return{type:e,domain:xg(r),...void 0!==i&&{range:xg(i)},...void 0!==c&&{transform:c},...l&&{percent:l},...void 0!==s&&{unknown:s},...void 0!==a&&{interval:a},...void 0!==o&&{interpolate:o},...n.clamp&&{clamp:n.clamp()},...void 0!==f&&{pivot:f,symmetric:!1},...n.base&&{base:n.base()},...n.exponent&&{exponent:n.exponent()},...n.constant&&{constant:n.constant()},...n.align&&{align:n.align(),round:n.round()},...n.padding&&(n.paddingInner?{paddingInner:n.paddingInner(),paddingOuter:n.paddingOuter()}:{padding:n.padding()}),...n.bandwidth&&{bandwidth:n.bandwidth(),step:n.step()},apply:t=>n(t),...n.invert&&{invert:t=>n.invert(t)}}}function dm(t,n){const{fx:e,fy:r}=Vb(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];const r="function"===typeof n[n.length-1]&&function(t){return n=>t(...n)}(n.pop()),i=(n=n.map(d)).map(u),o=n.length-1,a=new Array(o+1).fill(0),c=[];if(o<0||i.some(h))return c;for(;;){c.push(a.map(((t,e)=>n[e][t])));let t=o;for(;++a[t]===i[t];){if(0===t)return r?c.map(r):c;a[t--]=0}}}(i,o).map(((t,n)=>{let[e,r]=t;return{x:e,y:r,i:n}})):i?i.map(((t,n)=>({x:t,i:n}))):o?o.map(((t,n)=>({y:t,i:n}))):void 0}function pm(t,n){let{fx:e,fy:r}=n;const i=Ng(t),o=e?.value,a=r?.value;return e&&r?A(i,(t=>(t.fx=o[t[0]],t.fy=a[t[0]],t)),(t=>o[t]),(t=>a[t])):e?A(i,(t=>(t.fx=o[t[0]],t)),(t=>o[t])):A(i,(t=>(t.fy=a[t[0]],t)),(t=>a[t]))}function gm(t){const n=[],e=new Uint32Array(Q(t,(t=>t.length)));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const ym=new Map([["top",xm],["right",Mm],["bottom",wm],["left",km],["top-left",$m(xm,km)],["top-right",$m(xm,Mm)],["bottom-left",$m(wm,km)],["bottom-right",$m(wm,Mm)],["top-empty",function(t,n,e){let{y:r}=n,{x:i,y:o,empty:a}=e;if(a)return!1;if(!r)return;const c=vm(r,o);if(c>0)return _m(t,i,r[c-1])}],["right-empty",function(t,n,e){let{x:r}=n,{x:i,y:o,empty:a}=e;if(a)return!1;if(!r)return;const c=vm(r,i);if(c<r.length-1)return _m(t,r[c+1],o)}],["bottom-empty",function(t,n,e){let{y:r}=n,{x:i,y:o,empty:a}=e;if(a)return!1;if(!r)return;const c=vm(r,o);if(c<r.length-1)return _m(t,i,r[c+1])}],["left-empty",function(t,n,e){let{x:r}=n,{x:i,y:o,empty:a}=e;if(a)return!1;if(!r)return;const c=vm(r,i);if(c>0)return _m(t,r[c-1],o)}],["empty",function(t,n,e){let{empty:r}=e;return r}]]);const bm=new WeakMap;function mm(t){let n=bm.get(t);return n||bm.set(t,n=new m(_g(t,((t,n)=>[t,n])))),n}function vm(t,n){return mm(t).get(n)}function _m(t,n,e){return function(t,n,e){return n=Lg(n),e=Lg(e),t.find((t=>Object.is(Lg(t.x),n)&&Object.is(Lg(t.y),e)))}(t,n,e)?.empty}function xm(t,n,e){let{y:r}=n,{y:i}=e;return!r||0===vm(r,i)}function wm(t,n,e){let{y:r}=n,{y:i}=e;return!r||vm(r,i)===r.length-1}function km(t,n,e){let{x:r}=n,{x:i}=e;return!r||0===vm(r,i)}function Mm(t,n,e){let{x:r}=n,{x:i}=e;return!r||vm(r,i)===r.length-1}function $m(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Am(t,n){let{channels:{fx:e,fy:r},groups:i}=n;return e&&r?t.map((t=>{let{x:n,y:e}=t;return i.get(n)?.get(e)??[]})):e?t.map((t=>{let{x:n}=t;return i.get(n)??[]})):t.map((t=>{let{y:n}=t;return i.get(n)??[]}))}const Tm=Math.PI,Sm=2*Tm,Em=.618;function Nm(){let t,n,{projection:e,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:c=r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(null==e)return;if("function"===typeof e.stream)return e;let f="frame";if(kg(e)){let r;if(({type:e,domain:n,inset:r,insetTop:i=(void 0!==r?r:i),insetRight:o=(void 0!==r?r:o),insetBottom:a=(void 0!==r?r:a),insetLeft:c=(void 0!==r?r:c),clip:f=f,...t}=e),null==e)return}"function"!==typeof e&&({type:e}=Cm(e));const{width:s,height:u,marginLeft:h,marginRight:d,marginTop:p,marginBottom:g}=l,y=s-h-d-c-o,b=u-p-g-i-a;if(e=e?.({width:y,height:b,clip:f,...t}),null==e)return;f=function(t,n,e,r,i){if(!1===t||null==t||"number"===typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return Si(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(f,h,p,s-d,u-g);let m,v=h+c,_=p+i;if(null!=n){const[[t,r],[i,o]]=Bo(e).bounds(n),a=Math.min(y/(i-t),b/(o-r));a>0?(v-=(a*(t+i)-y)/2,_-=(a*(r+o)-b)/2,m=sa({point(t,n){this.stream.point(t*a+v,n*a+_)}})):Eb("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??=0===v&&0===_?Dm():sa({point(t,n){this.stream.point(t+v,n+_)}}),{stream:t=>e.stream(m.stream(f(t)))}}function Cm(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Lm(Ea,.7463,.4673);case"albers":return zm(Sa,.7463,.4673);case"azimuthal-equal-area":return Lm(za,4,4);case"azimuthal-equidistant":return Lm(Oa,Sm,Sm);case"conic-conformal":return zm(Ia,Sm,Sm);case"conic-equal-area":return zm(Ta,6.1702,2.9781);case"conic-equidistant":return zm(Ha,7.312,3.6282);case"equal-earth":return Lm(Ja,5.4133,2.6347);case"equirectangular":return Lm(Ba,Sm,Tm);case"gnomonic":return Lm(tc,3.4641,3.4641);case"identity":return{type:Dm};case"reflect-y":return{type:Om};case"mercator":return Lm(ja,Sm,Sm);case"orthographic":return Lm(ec,2,2);case"stereographic":return Lm(ic,2,2);case"transverse-mercator":return Lm(ac,Sm,Sm);default:throw new Error(`unknown projection type: ${t}`)}}function Lm(t,n,e){return{type:r=>{let{width:i,height:o,rotate:a,precision:c=.15,clip:l}=r;const f=t();return null!=c&&f.precision?.(c),null!=a&&f.rotate?.(a),"number"===typeof l&&f.clipAngle?.(l),null!=i&&(f.scale(Math.min(i/n,o/e)),f.translate([i/2,o/2])),f},aspectRatio:e/n}}function zm(t,n,e){const{type:r,aspectRatio:i}=Lm(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:o}=t,a=r(t);return null!=n&&(a.parallels(n),void 0===e&&null!=i&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const Dm=fg({stream:t=>t}),Om=fg(sa({point(t,n){this.stream.point(t,-n)}}));function Fm(t,n,e,r){const i=e[t],o=e[n],a=i.length,c=e[t]=new Float64Array(a).fill(NaN),l=e[n]=new Float64Array(a).fill(NaN);let f;const s=r.stream({point(t,n){c[f]=t,l[f]=n}});for(f=0;f<a;++f)s.point(i[f],o[f])}function jm(){let{projection:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=t&&("function"===typeof t.stream||(kg(t)&&(t=t.type),null!=t))}function Rm(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Oi(a,o);return[r,i]}function Um(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{document:n=("undefined"!==typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:iy(e)}}function Pm(t,n){let{document:e}=n;return Ih(gn(t).call(e.documentElement))}function Im(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"===typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${qm(-a,6)}`:a>9999?`+${qm(a,6)}`:qm(a,4)}-${qm(t.getUTCMonth()+1,2)}-${qm(t.getUTCDate(),2)}${e||r||i||o?`T${qm(e,2)}:${qm(r,2)}${i||o?`:${qm(i,2)}${o?`.${qm(o,3)}`:""}`:""}Z`:""}`;var a}function qm(t,n){return`${t}`.padStart(n,"0")}const Bm=Symbol("unset");function Wm(t){return(1===t.length?Hm:Ym)(t)}function Hm(t){let n,e=Bm;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Ym(t){let n,e;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e?.length!==i.length||e.some(((t,n)=>!Object.is(t,i[n]))))&&(e=i,n=t(...i)),n}}const Vm=Wm((t=>new Intl.NumberFormat(t)));Wm(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}))),Wm(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}})));function Xm(t){return Im(t,"Invalid Date")}const Zm=function(){const t=function(){const t=Vm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US");return n=>null==n||isNaN(n)?void 0:t.format(n)}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US");return n=>(n instanceof Date?Xm:"number"===typeof n?t:og)(n)}(),Gm=("undefined"!==typeof window?window.devicePixelRatio>1:"undefined"===typeof it)?0:.5;let Qm=0;function Jm(t,n,e){let{title:r,href:i,ariaLabel:o,ariaDescription:a,ariaHidden:c,target:l,fill:f,fillOpacity:s,stroke:u,strokeWidth:h,strokeOpacity:d,strokeLinejoin:p,strokeLinecap:g,strokeMiterlimit:y,strokeDasharray:b,strokeDashoffset:m,opacity:v,mixBlendMode:_,imageFilter:x,paintOrder:w,pointerEvents:k,shapeRendering:M,channels:$}=n,{ariaLabel:A,fill:T="currentColor",fillOpacity:S,stroke:E="none",strokeOpacity:N,strokeWidth:C,strokeLinecap:L,strokeLinejoin:z,strokeMiterlimit:D,paintOrder:O}=e;null===T&&(f=null,s=null),null===E&&(u=null,d=null),Kg(T)?Kg(E)||Kg(f)&&!$?.fill||(E="none"):!Kg(E)||Kg(u)&&!$?.stroke||(T="none");const[F,j]=pg(f,T),[R,U]=gg(s,S),[P,I]=pg(u,E),[q,B]=gg(d,N),[W,H]=gg(v);ty(I)||(void 0===h&&(h=C),void 0===g&&(g=L),void 0===p&&(p=z),void 0!==y||function(t){return/^\s*round\s*$/i.test(t)}(p)||(y=D),ty(j)||void 0!==w||(w=O));const[Y,V]=gg(h);return null!==T&&(t.fill=hv(j,"currentColor"),t.fillOpacity=dv(U,1)),null!==E&&(t.stroke=hv(I,"none"),t.strokeWidth=dv(V,1),t.strokeOpacity=dv(B,1),t.strokeLinejoin=hv(p,"miter"),t.strokeLinecap=hv(g,"butt"),t.strokeMiterlimit=dv(y,4),t.strokeDasharray=hv(b,"none"),t.strokeDashoffset=hv(m,"0")),t.target=og(l),t.ariaLabel=og(A),t.ariaDescription=og(a),t.ariaHidden=og(c),t.opacity=dv(H,1),t.mixBlendMode=hv(_,"normal"),t.imageFilter=hv(x,"none"),t.paintOrder=hv(w,"normal"),t.pointerEvents=hv(k,"auto"),t.shapeRendering=hv(M,"auto"),{title:{value:r,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:o,optional:!0,filter:null},fill:{value:F,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:q,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:W,scale:"auto",optional:!0}}}function Km(t,n){n&&t.text((t=>Zm(n[t])))}function tv(t,n){n&&t.text((t=>{let[e]=t;return Zm(n[e])}))}function nv(t,n,e){let{target:r,tip:i}=n,{ariaLabel:o,title:a,fill:c,fillOpacity:l,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:h,href:d}=e;o&&sv(t,"aria-label",(t=>o[t])),c&&sv(t,"fill",(t=>c[t])),l&&sv(t,"fill-opacity",(t=>l[t])),f&&sv(t,"stroke",(t=>f[t])),s&&sv(t,"stroke-opacity",(t=>s[t])),u&&sv(t,"stroke-width",(t=>u[t])),h&&sv(t,"opacity",(t=>h[t])),d&&fv(t,(t=>d[t]),r),i||function(t,n){n&&t.filter((t=>hp(n[t]))).append("title").call(Km,n)}(t,a)}function ev(t,n,e){let{target:r,tip:i}=n,{ariaLabel:o,title:a,fill:c,fillOpacity:l,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:h,href:d}=e;o&&sv(t,"aria-label",(t=>{let[n]=t;return o[n]})),c&&sv(t,"fill",(t=>{let[n]=t;return c[n]})),l&&sv(t,"fill-opacity",(t=>{let[n]=t;return l[n]})),f&&sv(t,"stroke",(t=>{let[n]=t;return f[n]})),s&&sv(t,"stroke-opacity",(t=>{let[n]=t;return s[n]})),u&&sv(t,"stroke-width",(t=>{let[n]=t;return u[n]})),h&&sv(t,"opacity",(t=>{let[n]=t;return h[n]})),d&&fv(t,(t=>{let[n]=t;return d[n]}),r),i||function(t,n){n&&t.filter((t=>{let[e]=t;return hp(n[e])})).append("title").call(tv,n)}(t,a)}function*rv(t,n,e,r){const{z:i}=e,{z:o}=r,a=function(t,n){let{ariaLabel:e,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:c,strokeWidth:l,opacity:f,href:s}=t,{tip:u}=n;return[e,u?void 0:r,i,o,a,c,l,f,s].filter((t=>void 0!==t))}(r,e),c=[...n,...a];for(const l of o?function(t,n,e){const r=$(t,(t=>n[t]));return void 0===e&&r.size>1+t.length>>1&&Eb("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}(t,o,i):[t]){let t,n;t:for(const e of l){for(const t of c)if(!fp(t[e])){n&&n.push(-1);continue t}if(void 0!==t){n.push(e);for(let r=0;r<a.length;++r){if(Lg(a[r][e])!==t[r]){yield n,t=a.map((t=>Lg(t[e]))),n=[e];continue t}}}else n&&(yield n),t=a.map((t=>Lg(t[e]))),n=[e]}n&&(yield n)}}function iv(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o="plot-clip-"+ ++Qm;Ih(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const ov=iv(((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:c,marginBottom:l}=e;t.append("rect").attr("x",o).attr("y",c).attr("width",r-a-o).attr("height",i-c-l)})),av=iv(((t,n)=>{const{projection:e}=n;if(!e)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",Bo(e)({type:"Sphere"}))}));function cv(t,n,e,r){!function(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":t=Pm("svg:g",r).each((function(){this.appendChild(t.node()),t.node=()=>this})),i=ov(r,e);break;case"sphere":i=av(r)}sv(t,"aria-label",n.ariaLabel),sv(t,"aria-description",n.ariaDescription),sv(t,"aria-hidden",n.ariaHidden),sv(t,"clip-path",i)}(t,n,e,r),sv(t,"class",n.className),sv(t,"fill",n.fill),sv(t,"fill-opacity",n.fillOpacity),sv(t,"stroke",n.stroke),sv(t,"stroke-width",n.strokeWidth),sv(t,"stroke-opacity",n.strokeOpacity),sv(t,"stroke-linejoin",n.strokeLinejoin),sv(t,"stroke-linecap",n.strokeLinecap),sv(t,"stroke-miterlimit",n.strokeMiterlimit),sv(t,"stroke-dasharray",n.strokeDasharray),sv(t,"stroke-dashoffset",n.strokeDashoffset),sv(t,"shape-rendering",n.shapeRendering),sv(t,"filter",n.imageFilter),sv(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;sv(t,"pointer-events",i)}function lv(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),sv(t,"opacity",n.opacity)}function fv(t,n,e){t.each((function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(Dt.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Dt.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function sv(t,n,e){null!=e&&t.attr(n,e)}function uv(t,n,e){let{x:r,y:i}=e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gm,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gm;o+=n.dx,a+=n.dy,r?.bandwidth&&(o+=r.bandwidth()/2),i?.bandwidth&&(a+=i.bandwidth()/2),(o||a)&&t.attr("transform",`translate(${o},${a})`)}function hv(t,n){if((t=og(t))!==n)return t}function dv(t,n){if((t=ag(t))!==n)return t}const pv=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function gv(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!pv.test(t))throw new Error(`invalid class name: ${t}`);return t}function yv(t,n){if("string"===typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function bv(t,n){let{frameAnchor:e}=t,{width:r,height:i,marginTop:o,marginRight:a,marginBottom:c,marginLeft:l}=n;return[/left$/.test(e)?l:/right$/.test(e)?r-a:(l+r-a)/2,/^top/.test(e)?o:/^bottom/.test(e)?i-c:(o+i-c)/2]}function mv(){let{filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(void 0===r&&(null!=t&&(r=wv(t)),null==n||Ag(n)||(r=_v(r,Mv(n))),e&&(r=_v(r,kv))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===n||Ag(n))&&{sort:n},transform:_v(r,a)}}function vv(){let{filter:t,sort:n,reverse:e,initializer:r,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return void 0===r&&(null!=t&&(r=wv(t)),null==n||Ag(n)||(r=xv(r,Mv(n))),e&&(r=xv(r,kv))),{...i,...(null===n||Ag(n))&&{sort:n},initializer:xv(r,o)}}function _v(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,mg(e),r,i)}}function xv(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){let o,a,c,l,f,s;for(var u=arguments.length,h=new Array(u>3?u-3:0),d=3;d<u;d++)h[d-3]=arguments[d];return({data:a=e,facets:c=r,channels:o}=t.call(this,e,r,i,...h)),({data:f=a,facets:s=c,channels:l}=n.call(this,a,c,{...i,...o},...h)),{data:f,facets:s,channels:{...o,...l}}}}function wv(t){return(n,e)=>{const r=Zp(n,t);return{data:n,facets:e.map((t=>t.filter((t=>r[t]))))}}}function kv(t,n){return{data:t,facets:n.map((t=>t.slice().reverse()))}}function Mv(t){return("function"===typeof t&&1!==t.length?$v:Av)(t)}function $v(t){return(n,e)=>{const r=Hp(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r));return{data:n,facets:e.map((t=>t.slice().sort(r)))}}}function Av(t){let n,e;({channel:n,value:t,order:e}={...qg(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?up:sp),"function"!==typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=sp;break;case"descending":e=up;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,o)=>{let a;if(void 0===n)a=Zp(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[n],!a)return{};a=a.value}const c=(t,n)=>e(a[t],a[n]);return{data:r,facets:i.map((t=>t.slice().sort(c)))}}}class Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const{facet:i="auto",facetAnchor:o,fx:a,fy:c,sort:l,dx:f=0,dy:s=0,margin:u=0,marginTop:h=u,marginRight:d=u,marginBottom:p=u,marginLeft:g=u,className:y,clip:b=r?.clip,channels:m,tip:v,render:_}=e;if(this.data=t,this.sort=Ag(l)?l:null,this.initializer=vv(e).initializer,this.transform=this.initializer?e.transform:mv(e).transform,null===i||!1===i?this.facet=null:(this.facet=bg(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===Kp&&"string"===typeof a?[a]:a,this.fy=t===Kp&&"string"===typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=ym.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(o),n=ry(n),void 0!==m&&(n={...Nv(m),...n}),void 0!==r&&(n={...Jm(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map((n=>{let[e,r]=n;if($g(r.value)){const{value:t,label:n=r.label,scale:e=r.scale}=r.value;r={...r,label:n,scale:e,value:t}}if(t===Kp&&"string"===typeof r.value){const{value:t}=r;r={...r,value:[t]}}return[e,r]})).filter((t=>{let[n,{value:e,optional:r}]=t;if(null!=e)return!0;if(r)return!1;throw new Error(`missing channel value: ${n}`)}))),this.dx=+f,this.dy=+s,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+g,this.clip=iy(b),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"===typeof t?bg(t,"tip",["x","y","xy"]):t}(v),this.className=y?gv(y):null,"super"===this.facet){if(a||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=_&&(this.render=Ev(_,this.render))}initialize(t,n,e){let r=mg(this.data);void 0===t&&null!=r&&(t=[Ng(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=mg(r)),void 0!==t&&(t.original=i);const o=function(t,n){return Object.fromEntries(Object.entries(t).map((t=>{let[e,r]=t;return[e,Iy(n,r,e)]})))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:o,reverse:a,reduce:c=!0,limit:l}=i;for(const f in i){if(!py.has(f))continue;let{value:s,order:u=o,reverse:h=a,reduce:d=c,limit:p=l}=qg(i[f]);const g=s?.startsWith("-");if(g&&(s=s.slice(1)),u=void 0===u?g!==("width"===s||"height"===s)?Zy:Xy:Vy(u),null==d||!1===d)continue;const y="fx"===f||"fy"===f?Wy(n,r[f]):By(e,f);if(!y)throw new Error(`missing channel for scale: ${f}`);const b=y.value,[m=0,_=1/0]=Bg(p)?p:p<0?[p]:[0,p];if(null==s)y.domain=()=>{let t=Array.from(new v(b));return h&&(t=t.reverse()),0===m&&_===1/0||(t=t.slice(m,_)),t};else{const n="data"===s?t:"height"===s?Hy(e,"y1","y2"):"width"===s?Hy(e,"x1","x2"):Yy(e,s,"y"===s?"y2":"x"===s?"x2":void 0),r=Ay(!0===d?"max":d,n);y.domain=()=>{let t=T(Ng(b),(t=>r.reduceIndex(t,n)),(t=>b[t]));return u&&t.sort(u),h&&t.reverse(),0===m&&_===1/0||(t=t.slice(m,_)),t.map(cg)}}}}(r,t,o,n,this.sort),{data:r,facets:t,channels:o}}filter(t,n,e){for(const r in n){const{filter:i=fp}=n[r];if(null!==i){const n=e[r];t=t.filter((t=>i(n[t])))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&Fm(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map((t=>{let[e,{scale:r,value:i}]=t;const o=null==r?null:n[r];return[e,null==o?i:_g(i,o)]})));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function Sv(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.plot=Tv.prototype.plot,n}function Ev(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!==typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!==typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,c){return t.call(this,e,r,i,o,a,((t,e,r,i,o)=>n.call(this,t,e,r,i,o,c)))}}function Nv(t){return Object.fromEntries(Object.entries(ry(t)).map((t=>{let[n,e]=t;return e="string"===typeof e?{value:e,label:n}:qg(e),void 0===e.filter&&null==e.scale&&(e={...e,filter:null}),[n,e]})))}function Cv(t,n){return!0===t?.tip?{...t,tip:n}:kg(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function Lv(t,n,e){let{x:r,y:i,fy:o,fx:a}=t,{projection:c,aspectRatio:l}=n,{width:f,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:h,marginLeftDefault:d}=e;const p=o&&o.scale.domain().length||1,g=function(t){if("function"===typeof t?.stream)return Em;if(kg(t)){let n,e;if(({domain:n,type:t,...e}=t),null!=n&&null!=t){const r="string"===typeof t?Cm(t).type:t,[[i,o],[a,c]]=Bo(r({...e,width:100,height:100})).bounds(n),l=(c-o)/(a-i);return l&&isFinite(l)?l<.2?.2:l>5?5:l:Em}}if(null!=t){if("function"!==typeof t){const{aspectRatio:n}=Cm(t);if(n)return n}return Em}}(c);if(g){const t=(1.1*p-.1)/(1.1*(a?a.scale.domain().length:1)-.1)*g,n=Math.max(.1,Math.min(10,t));return Math.round((f-d-u)*n+s+h)}const y=i?cm(i)?i.scale.domain().length||1:Math.max(7,17/p):1;if(null!=l){if(l=+l,!(isFinite(l)&&l>0))throw new Error(`invalid aspectRatio: ${l}`);const t=zv("y",i)/(zv("x",r)*l),n=a?a.scale.bandwidth():1,e=o?o.scale.bandwidth():1;return(t*(n*(f-d-u)-r.insetLeft-r.insetRight)+i.insetTop+i.insetBottom)/e+s+h}return!(!i&&!o)*Math.max(1,Math.min(60,y*p))*20+30*!!a+60}function zv(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=b(r);return Math.abs(i(a)-i(o))}const Dv=new WeakMap;function Ov(t,n){let{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:l,...f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=+a,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=o&&(r??=null,c={...c,py:{value:o,scale:"y"}}),{x:e,y:r,channels:c,...f,render:Ev((function(e,r,i,o,c,l){const f=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:s}=c.getMarkState(this);let u=Dv.get(f);u||Dv.set(f,u={sticky:!1,roots:[],renders:[]});let h=u.renders.push(L)-1;const{x:d,y:p,fx:g,fy:y}=r;let b=g?g(e.fx)-o.marginLeft:0,m=y?y(e.fy)-o.marginTop:0;d?.bandwidth&&(b+=d.bandwidth()/2),p?.bandwidth&&(m+=p.bandwidth()/2);const v=null!=e.fi;let _;if(v){let t=u.facetStates;t||(u.facetStates=t=new Map),_=t.get(this),_||t.set(this,_=new Map)}const[x,w]=bv(this,o),{px:k,py:M}=i,$=k?t=>k[t]:Uv(i,x),A=M?t=>M[t]:Pv(i,w);let T,S,E,N;function C(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return _.set(e.fi,n),void(N=requestAnimationFrame((()=>{N=null;for(const[r,i]of _)if(i<n||i===n&&r<e.fi){t=null;break}L(t)})));_.delete(e.fi)}L(t)}function L(t){if(T===t&&E===u.sticky)return;T=t,E=c.pointerSticky=u.sticky;const n=null==T?[]:[T];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const a=l(n,r,i,o,c);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=a.getAttribute("transform");n?a.setAttribute("transform",n):a.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}S.replaceWith(a)}if(u.roots[h]=S=a,!(null==T&&_?.size>1)){const t=null==T?null:Hp(s)?s[T]:s.get(T);c.dispatchValue(t)}return a}function z(r){if(u.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=b,c-=m;const l=i<o.marginLeft||i>o.width-o.marginRight?1:t,f=c<o.marginTop||c>o.height-o.marginBottom?1:n;let s=null,h=a*a;for(const t of e){const n=l*($(t)-i),e=f*(A(t)-c),r=n*n+e*e;r<=h&&(s=t,h=r)}if(null!=s&&(1!==t||1!==n)){const t=$(s)-i,n=A(s)-c;h=t*t+n*n}C(s,h)}return f.addEventListener("pointerenter",z),f.addEventListener("pointermove",z),f.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=T&&(u.sticky&&u.roots.some((n=>n?.contains(t.target)))||(u.sticky?(u.sticky=!1,u.renders.forEach((t=>t(null)))):(u.sticky=!0,L(T)),t.stopImmediatePropagation()))})),f.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(u.sticky||C(null))})),L(null)}),l)}}function Fv(t){return Ov(1,1,t)}function jv(t){return Ov(1,.01,t)}function Rv(t){return Ov(.01,1,t)}function Uv(t,n){let{x1:e,x2:r,x:i=e}=t;return e&&r?t=>(e[t]+r[t])/2:i?t=>i[t]:()=>n}function Pv(t,n){let{y1:e,y2:r,y:i=e}=t;return e&&r?t=>(e[t]+r[t])/2:i?t=>i[t]:()=>n}function Iv(t){return cm(t)&&void 0===t.interval?void 0:"tabular-nums"}function qv(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:l=16+r,marginLeft:f=0,style:s,ticks:u=(i-f-c)/64,tickFormat:h,fontVariant:d=Iv(t),round:p=!0,opacity:g,className:y}=n;const b=Um(n);y=gv(y),g=gg(g)[1],null===h&&(h=()=>null);const m=Pm("svg",b).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call((t=>t.append("style").text(`:where(.${y}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${y}-ramp text) {\n  white-space: pre;\n}`))).call(yv,s);let v,_=t=>t.selectAll(".tick line").attr("y1",a+l-o);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:w,domain:k,range:M,interpolate:$,scale:A,pivot:T}=t;if($){const t=void 0===M?$:Fc(1===$.length?Ab($):$,M);v=x(A.copy(),jc(oe(f,i-c),Math.min(k.length+(void 0!==T),void 0===M?1/0:M.length)));const n=256,e=b.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,o=n-1;i<n;++i)r.fillStyle=t(i/o),r.fillRect(i,0,1,1);m.append("image").attr("opacity",g).attr("x",f).attr("y",a).attr("width",i-f-c).attr("height",o-a-l).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===w){const t=k,n=void 0===h?t=>t:"string"===typeof h?Vr(h):h;v=x(fl().domain([-1,M.length-1]),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",((t,n)=>v(n-1))).attr("y",a).attr("width",((t,n)=>v(n)-v(n-1))).attr("height",o-a-l).attr("fill",(t=>t)),u=_g(t,((t,n)=>n)),h=e=>n(t[e],e)}else v=x(Zc().domain(k),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-l).attr("fill",A),_=()=>{};return m.append("g").attr("transform",`translate(0,${o-l})`).call(function(t){return pt(3,t)}(v).ticks(Array.isArray(u)?null:u,"string"===typeof h?h:void 0).tickFormat("function"===typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",hv(d,"normal")).call(_).call((t=>t.select(".domain").remove())),void 0!==e&&m.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const Bv=Math.PI/180;function Wv(t){let{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.markerStart=Hv(e),t.markerMid=Hv(r),t.markerEnd=Hv(i)}function Hv(t){if(null==t||!1===t)return null;if(!0===t)return Xv;if("function"===typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Yv("auto");case"arrow-reverse":return Yv("auto-start-reverse");case"dot":return Vv;case"circle":case"circle-fill":return Xv;case"circle-stroke":return Zv;case"tick":return Gv("auto");case"tick-x":return Gv(90);case"tick-y":return Gv(0)}throw new Error(`invalid marker: ${t}`)}function Yv(t){return(n,e)=>Pm("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function Vv(t,n){return Pm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function Xv(t,n){return Pm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function Zv(t,n){return Pm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function Gv(t){return(n,e)=>Pm("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let Qv=0;function Jv(t,n,e,r){let{stroke:i}=e;return e_(t,n,i&&(t=>i[t]),null,r)}function Kv(t,n,e,r){let{stroke:i,z:o}=e;return e_(t,n,i&&(t=>{let[n]=t;return i[n]}),o,r)}const t_=1,n_=2;function e_(t,n){let{markerStart:e,markerMid:r,markerEnd:i,stroke:o}=n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>o,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;if(!e&&!r&&!i)return;const f=new Map,s=c&&function(t,n){const e=new Uint8Array(n.length),r=t.data().filter((t=>t.length>1)),i=r.length;for(let o=0,a=Bm;o<i;++o){const t=r[o];if(t.length>1){const r=t[0];a!==(a=Lg(n[r]))&&(e[r]|=t_)}}for(let o=i-1,a=Bm;o>=0;--o){const t=r[o];if(t.length>1){const r=t[0];a!==(a=Lg(n[r]))&&(e[r]|=n_)}}return t=>{let[n]=t;return e[n]}}(t,c);function u(t,n,e){return function(r){if(e&&!e(r))return;const i=a(r);let o=f.get(n);o||f.set(n,o=new Map);let c=o.get(i);if(!c){const t=this.parentNode.insertBefore(n(i,l),this),e="plot-marker-"+ ++Qv;t.setAttribute("id",e),o.set(i,c=`url(#${e})`)}this.setAttribute(t,c)}}e&&t.each(u("marker-start",e,s&&(t=>s(t)&t_))),r&&s&&t.each(u("marker-start",r,(t=>!(s(t)&t_)))),r&&t.each(u("marker-mid",r)),i&&t.each(u("marker-end",i,s&&(t=>s(t)&n_)))}function r_(){let{inset:t,insetLeft:n,insetRight:e,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[n,e]=o_(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function i_(){let{inset:t,insetTop:n,insetBottom:e,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[n,e]=o_(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function o_(t,n,e){return void 0===t&&void 0===n&&void 0===e?Gm?[1,0]:[.5,.5]:[n,e]}function a_(t,n){let{interval:e}=n;return(t={...qg(t)}).interval=Ug(void 0===t.interval?e:t.interval),t}function c_(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:c,interval:l}=a_(i,e);if(null==c||null==l&&!r)return e;const f=Og(i);if(null==l){let n;const i={transform:t=>n||(n=Zp(t,c)),label:f};return{...e,[t]:void 0,[`${t}1`]:void 0===o?i:o,[`${t}2`]:void 0!==a||o===a&&r?a:i}}let s,u;function h(t){return void 0!==u&&t===s?u:u=_g(Zp(s=t,c),(t=>l.floor(t)))}return n({...e,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:f}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map((t=>l.offset(t))),label:f}:a})}function l_(t,n,e){const{[t]:r}=e,{value:i,interval:o}=a_(r,e);return null==i||null==o?e:n({...e,[t]:{label:Og(r),transform:t=>{const n=_g(Zp(t,i),(t=>o.floor(t))),e=n.map((t=>o.offset(t)));return n.map(Yg(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const f_={ariaLabel:"rule",fill:null,stroke:"currentColor"};class s_ extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x:e,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:c=o}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Cv(n,"x"),f_),this.insetTop=ag(a),this.insetBottom=ag(c),Wv(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y1:l,y2:f}=e,{width:s,height:u,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetTop:y,insetBottom:b}=this;return Pm("svg:g",i).call(cv,this,r,i).call(uv,this,{x:c&&o},Gm,0).call((n=>n.selectAll().data(t).enter().append("line").call(lv,this).attr("x1",c?t=>c[t]:(p+s-d)/2).attr("x2",c?t=>c[t]:(p+s-d)/2).attr("y1",l&&!fm(a)?t=>l[t]+y:h+y).attr("y2",f&&!fm(a)?a.bandwidth?t=>f[t]+a.bandwidth()-b:t=>f[t]-b:u-g-b).call(nv,this,e).call(Jv,this,e,i))).node()}}class u_ extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x1:e,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:c=o}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},Cv(n,"y"),f_),this.insetRight=ag(a),this.insetLeft=ag(c),Wv(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{y:c,x1:l,x2:f}=e,{width:s,height:u,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetLeft:y,insetRight:b}=this;return Pm("svg:g",i).call(cv,this,r,i).call(uv,this,{y:c&&a},0,Gm).call((n=>n.selectAll().data(t).enter().append("line").call(lv,this).attr("x1",l&&!fm(o)?t=>l[t]+y:p+y).attr("x2",f&&!fm(o)?o.bandwidth?t=>f[t]+o.bandwidth()-b:t=>f[t]-b:s-d-b).attr("y1",c?t=>c[t]:(h+u-g)/2).attr("y2",c?t=>c[t]:(h+u-g)/2).call(nv,this,e).call(Jv,this,e,i))).node()}}function h_(t,n){let{x:e=eg,y:r,y1:i,y2:o,...a}=function(){return c_("y",i_,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(n);return[i,o]=p_(r,i,o),new s_(t,{...a,x:e,y1:i,y2:o})}function d_(t,n){let{y:e=eg,x:r,x1:i,x2:o,...a}=function(){return c_("x",r_,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(n);return[i,o]=p_(r,i,o),new u_(t,{...a,y:e,x1:i,x2:o})}function p_(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function g_(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];let i=e.length;for(let o=0,a=!0;o<i;++o)"function"!==typeof e[o]&&(a&&(t=t.slice(),a=!1),t.splice(o,2,t[o]+e[o]+t[o+1]),e.splice(o,1),--o,--i);return n=>{let r=t[0];for(let o=0;o<i;++o)r+=e[o](n)+t[o+1];return r}}const y_={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class b_ extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x:e,y:r,text:i=(Bg(t)&&Wg(t)?eg:ng),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:c=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:l=1,lineWidth:f=1/0,textOverflow:s,monospace:u,fontFamily:h=(u?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,rotate:b}=n,[m,v]=gg(b,0),[_,x]=function(t){return null==t||"number"===typeof t?[void 0,t]:"string"!==typeof t?[t,void 0]:(t=t.trim().toLowerCase(),M_.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var w;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:(w=m,null==w?null:{transform:t=>Zp(t,w,Float64Array),label:Og(w)}),optional:!0},text:{value:i,filter:hp,optional:!0}},n,y_),this.rotate=v,this.textAnchor=hv(a,"middle"),this.lineAnchor=bg(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+f,this.textOverflow=m_(s),this.monospace=!!u,this.fontFamily=og(h),this.fontSize=x,this.fontStyle=og(p),this.fontVariant=og(g),this.fontWeight=og(y),this.frameAnchor=ey(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=E_(this),this.clipLine=N_(this)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:l,rotate:f,text:s,title:u,fontSize:h}=e,{rotate:d}=this,[p,g]=bv(this,r);return Pm("svg:g",i).call(cv,this,r,i).call(k_,this,s,r).call(uv,this,{x:c&&o,y:l&&a}).call((n=>n.selectAll().data(t).enter().append("text").call(lv,this).call(v_,this,s,u).attr("transform",g_`translate(${c?t=>c[t]:p},${l?t=>l[t]:g})${f?t=>` rotate(${f[t]})`:d?` rotate(${d})`:""}`).call(sv,"font-size",h&&(t=>h[t])).call(nv,this,e))).node()}}function m_(t){return null==t?null:bg(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function v_(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:l}=n;t.each((function(t){const n=c(Zm(e[t])??"").map(l),f=n.length,s="top"===i?.71:"bottom"===i?1-f:(164-100*f)/200;if(f>1){let t=0;for(let e=0;e<f;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(Dt.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(s+e)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else s&&this.setAttribute("y",s*o+"em"),this.textContent=n[0];if(a&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(Dt.svg,"title");n.textContent=e[t],this.appendChild(n)}}))}function __(t){let{x:n,y:e,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===r.frameAnchor&&([n,e]=Tg(n,e)),new b_(t,{...r,x:n,y:e})}function x_(t){let{x:n=eg,...e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new b_(t,function(){return l_("y",i_,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}({...e,x:n}))}function w_(t){let{y:n=eg,...e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new b_(t,function(){return l_("x",r_,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}({...e,y:n}))}function k_(t,n,e){sv(t,"text-anchor",n.textAnchor),sv(t,"font-family",n.fontFamily),sv(t,"font-size",n.fontSize),sv(t,"font-style",n.fontStyle),sv(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"===typeof n}(t)||Yg(t))?"tabular-nums":void 0}(e):n.fontVariant),sv(t,"font-weight",n.fontWeight)}const M_=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function $_(t,n,e){const r=[];let i,o=0;for(const[a,c,l]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case"\xad":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=a),o>i&&e(t,i,c)>n&&(r.push(t.slice(i,o)+("\xad"===t[o-1]?"-":"")),i=a),l?(r.push(t.slice(i,c)),i=void 0):o=c;return r}const A_={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201c":47,"\u201d":47,"\u2026":82};function T_(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=0;for(let i=n;i<e;i=j_(t,i))r+=A_[t[i]]??(U_(t,i)?120:A_.e);return r}function S_(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=0;for(let i=n;i<e;i=j_(t,i))r+=U_(t,i)?126:63;return r}function E_(t){let{monospace:n,lineWidth:e,textOverflow:r}=t;if(null!=r||e==1/0)return t=>t.split(/\r\n?|\n/g);const i=n?S_:T_,o=100*e;return t=>$_(t,o,i)}function N_(t){let{monospace:n,lineWidth:e,textOverflow:r}=t;if(null==r||e==1/0)return t=>t;const i=n?S_:T_,o=100*e;switch(r){case"clip-start":return t=>D_(t,o,i,"");case"clip-end":return t=>z_(t,o,i,"");case"ellipsis-start":return t=>D_(t,o,i,C_);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,c]=L_(t,n/2,e,o),[l]=L_(t,i-n/2-c+o,e,-o);return l<0?r:t.slice(0,a).trimEnd()+r+t.slice(j_(t,l)).trimStart()}(t,o,i,C_);case"ellipsis-end":return t=>z_(t,o,i,C_)}}const C_="\u2026";function L_(t,n,e,r){const i=[];let o=0;for(let a=0,c=0,l=t.length;a<l;a=c){c=j_(t,a);const l=e(t,a,c);if(o+l>n){for(o+=r;o>n&&a>0;)c=a,a=i.pop(),o-=e(t,a,c);return[a,n-o]}o+=l,i.push(a)}return[-1,0]}function z_(t,n,e,r){t=t.trim();const i=e(r),[o]=L_(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function D_(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const o=e(r),[a]=L_(t,i-n+o,e,-o);return a<0?r:r+t.slice(j_(t,a)).trimStart()}const O_=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,F_=/\p{Extended_Pictographic}/uy;function j_(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!R_(t,n)&&(O_.lastIndex=n,O_.test(t))}(t,n)&&(n=O_.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?j_(t,n+1):n}function R_(t,n){return t.charCodeAt(n)<128}function U_(t,n){return!R_(t,n)&&(F_.lastIndex=n,F_.test(t))}const P_={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},I_=3.5,q_=5*I_,B_={draw(t,n,e){const r=n*e/q_;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},W_={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},H_=new Map([["arrow",B_],["spike",W_]]);class Y_ extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x:e,y:r,r:i=I_,length:o,rotate:a,shape:c=B_,anchor:l="middle",frameAnchor:f}=n,[s,u]=gg(o,12),[h,d]=gg(a,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:s,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,P_),this.r=+i,this.length=u,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"===typeof t.draw}(t))return t;const n=H_.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=bg(l,"anchor",["start","middle","end"]),this.frameAnchor=ey(f)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:l,length:f,rotate:s}=e,{length:u,rotate:h,anchor:d,shape:p,r:g}=this,[y,b]=bv(this,r);return Pm("svg:g",i).call(cv,this,r,i).call(uv,this,{x:c&&o,y:l&&a}).call((n=>n.selectAll().data(t).enter().append("path").call(lv,this).attr("transform",g_`translate(${c?t=>c[t]:y},${l?t=>l[t]:b})${s?t=>` rotate(${s[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?f?t=>` translate(0,${f[t]})`:` translate(0,${u})`:f?t=>` translate(0,${f[t]/2})`:` translate(0,${u/2})`}`).attr("d",f?t=>{const n=Wc();return p.draw(n,f[t],g),n}:(()=>{const t=Wc();return p.draw(t,u,g),t})()).call(nv,this,e))).node()}}function V_(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x:e=eg,...r}=n;return new Y_(t,{...r,x:e})}function X_(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{y:e=eg,...r}=n;return new Y_(t,{...r,y:e})}function Z_(t,n){return arguments.length<2&&!Bg(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function G_(){let{anchor:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return void 0===t?n[0]:bg(t,"anchor",n)}function Q_(t){return G_(t,["left","right"])}function J_(t){return G_(t,["right","left"])}function K_(t){return G_(t,["bottom","top"])}function tx(t){return G_(t,["top","bottom"])}function nx(){const[t,n]=Z_(...arguments);return ox("y",Q_(n),t,n)}function ex(){const[t,n]=Z_(...arguments);return ox("fy",J_(n),t,n)}function rx(){const[t,n]=Z_(...arguments);return ax("x",K_(n),t,n)}function ix(){const[t,n]=Z_(...arguments);return ax("fx",tx(n),t,n)}function ox(t,n,e,r){let{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:c=o,strokeWidth:l=1,fill:f=i,fillOpacity:s=o,textAnchor:u,textStroke:h,textStrokeOpacity:d,textStrokeWidth:p,tickSize:g=("y"===t?6:0),tickPadding:y,tickRotate:b,x:m,margin:v,marginTop:_=(void 0===v?20:v),marginRight:x=(void 0===v?"right"===n?40:0:v),marginBottom:w=(void 0===v?20:v),marginLeft:k=(void 0===v?"left"===n?40:0:v),label:M,labelAnchor:$,labelArrow:A,labelOffset:T,...S}=r;return g=ag(g),y=ag(y),b=ag(b),void 0!==$&&($=bg($,"labelAnchor",["center","top","bottom"])),A=$x(A),Sv(g&&!Kg(a)?function(t,n,e,r){let{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:c=n+("y"===t?"-empty":""),frameAnchor:l=n,tickSize:f,inset:s=0,insetLeft:u=s,insetRight:h=s,dx:d=0,y:p=("y"===t?void 0:null),...g}=r;return gx(X_,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:i,strokeLinecap:o,strokeLinejoin:a,facetAnchor:c,frameAnchor:l,y:p,...g,dx:"left"===n?+d-Gm+ +u:+d+Gm-h,anchor:"start",length:f,shape:"left"===n?xx:wx})}(t,n,e,{stroke:a,strokeOpacity:c,strokeWidth:l,tickSize:g,tickPadding:y,tickRotate:b,x:m,...S}):null,Kg(f)?null:function(t,n,e,r){let{facetAnchor:i=n+("y"===t?"-empty":""),frameAnchor:o=n,tickSize:a,tickRotate:c=0,tickPadding:l=Math.max(3,9-a)+(Math.abs(c)>60?4*Math.cos(c*Bv):0),text:f,textAnchor:s=(Math.abs(c)>60?"middle":"left"===n?"end":"start"),lineAnchor:u=(c>60?"top":c<-60?"bottom":"middle"),fontVariant:h,inset:d=0,insetLeft:p=d,insetRight:g=d,dx:y=0,y:b=("y"===t?void 0:null),...m}=r;return gx(w_,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:i,frameAnchor:o,text:f,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:c,y:b,...m,dx:"left"===n?+y-a-l+ +p:+y+ +a+ +l-g},(function(t,e,r,i,o){void 0===h&&(this.fontVariant=kx(t)),void 0===f&&(o.text=yx(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:s,stroke:h,strokeOpacity:d,strokeWidth:p,textAnchor:u,tickSize:g,tickPadding:y,tickRotate:b,x:m,marginTop:_,marginRight:x,marginBottom:w,marginLeft:k,...S}),Kg(f)||null===M?null:__([],px({fill:f,fillOpacity:s,...S},(function(e,r,i,o,a){const c=o[t],{marginTop:l,marginRight:f,marginBottom:s,marginLeft:u}="y"===t&&a.inset||a,h=$??(c.bandwidth?"center":"top"),d=T??("right"===n?f:u)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${n}`,this.rotate=0),this.dy="top"===h?3-l:"bottom"===h?s-3:0,this.dx="right"===n?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Mx(t,c,{anchor:n,label:M,labelAnchor:h,labelArrow:A})]}}}}))))}function ax(t,n,e,r){let{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:c=o,strokeWidth:l=1,fill:f=i,fillOpacity:s=o,textAnchor:u,textStroke:h,textStrokeOpacity:d,textStrokeWidth:p,tickSize:g=("x"===t?6:0),tickPadding:y,tickRotate:b,y:m,margin:v,marginTop:_=(void 0===v?"top"===n?30:0:v),marginRight:x=(void 0===v?20:v),marginBottom:w=(void 0===v?"bottom"===n?30:0:v),marginLeft:k=(void 0===v?20:v),label:M,labelAnchor:$,labelArrow:A,labelOffset:T,...S}=r;return g=ag(g),y=ag(y),b=ag(b),void 0!==$&&($=bg($,"labelAnchor",["center","left","right"])),A=$x(A),Sv(g&&!Kg(a)?function(t,n,e,r){let{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:c=n+("x"===t?"-empty":""),frameAnchor:l=n,tickSize:f,inset:s=0,insetTop:u=s,insetBottom:h=s,dy:d=0,x:p=("x"===t?void 0:null),...g}=r;return gx(V_,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:i,strokeLinejoin:a,strokeLinecap:o,facetAnchor:c,frameAnchor:l,x:p,...g,dy:"bottom"===n?+d-Gm-h:+d+Gm+ +u,anchor:"start",length:f,shape:"bottom"===n?vx:_x})}(t,n,e,{stroke:a,strokeOpacity:c,strokeWidth:l,tickSize:g,tickPadding:y,tickRotate:b,y:m,...S}):null,Kg(f)?null:function(t,n,e,r){let{facetAnchor:i=n+("x"===t?"-empty":""),frameAnchor:o=n,tickSize:a,tickRotate:c=0,tickPadding:l=Math.max(3,9-a)+(Math.abs(c)>=10?4*Math.cos(c*Bv):0),text:f,textAnchor:s=(Math.abs(c)>=10?c<0^"bottom"===n?"start":"end":"middle"),lineAnchor:u=(Math.abs(c)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:h,inset:d=0,insetTop:p=d,insetBottom:g=d,dy:y=0,x:b=("x"===t?void 0:null),...m}=r;return gx(x_,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:i,frameAnchor:o,text:void 0===f?null:f,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:c,x:b,...m,dy:"bottom"===n?+y+ +a+ +l-g:+y-a-l+ +p},(function(t,e,r,i,o){void 0===h&&(this.fontVariant=kx(t)),void 0===f&&(o.text=yx(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:s,stroke:h,strokeOpacity:d,strokeWidth:p,textAnchor:u,tickSize:g,tickPadding:y,tickRotate:b,y:m,marginTop:_,marginRight:x,marginBottom:w,marginLeft:k,...S}),Kg(f)||null===M?null:__([],px({fill:f,fillOpacity:s,...S},(function(e,r,i,o,a){const c=o[t],{marginTop:l,marginRight:f,marginBottom:s,marginLeft:u}="x"===t&&a.inset||a,h=$??(c.bandwidth?"center":"right"),d=T??("top"===n?l:s)-3;return"center"===h?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-d:d,this.dx="right"===h?f-3:"left"===h?3-u:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Mx(t,c,{anchor:n,label:M,labelAnchor:h,labelArrow:A})]}}}}))))}function cx(){const[t,n]=Z_(...arguments);return ux("y",Q_(n),t,n)}function lx(){const[t,n]=Z_(...arguments);return ux("fy",J_(n),t,n)}function fx(){const[t,n]=Z_(...arguments);return hx("x",K_(n),t,n)}function sx(){const[t,n]=Z_(...arguments);return hx("fx",tx(n),t,n)}function ux(t,n,e,r){let{y:i=("y"===t?void 0:null),x:o=null,x1:a=("left"===n?o:null),x2:c=("right"===n?o:null),...l}=r;return gx(d_,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:i,x1:a,x2:c,...dx(l)})}function hx(t,n,e,r){let{x:i=("x"===t?void 0:null),y:o=null,y1:a=("top"===n?o:null),y2:c=("bottom"===n?o:null),...l}=r;return gx(h_,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:i,y1:a,y2:c,...dx(l)})}function dx(t){let{color:n="currentColor",opacity:e=.1,stroke:r=n,strokeOpacity:i=e,strokeWidth:o=1,...a}=t;return{stroke:r,strokeOpacity:i,strokeWidth:o,...a}}function px(t,n){let{fill:e,fillOpacity:r,fontFamily:i,fontSize:o,fontStyle:a,fontVariant:c,fontWeight:l,monospace:f,pointerEvents:s,shapeRendering:u,clip:h=!1}=t;return[,e]=pg(e),[,r]=gg(r),{facet:"super",x:null,y:null,fill:e,fillOpacity:r,fontFamily:i,fontSize:o,fontStyle:a,fontVariant:c,fontWeight:l,monospace:f,pointerEvents:s,shapeRendering:u,clip:h,initializer:n}}function gx(t,n,e,r,i,o){let a;const c=vv(i).initializer,l=t(e,vv({...i,initializer:function(t,e,r,c,l,f){const s=null==t&&("fx"===n||"fy"===n),{[n]:u}=c;if(!u)throw new Error(`missing scale: ${n}`);const h=u.domain();let{interval:d,ticks:p,tickFormat:g,tickSpacing:y=("x"===n?80:35)}=i;if("string"===typeof p&&Ax(u)&&(d=p,p=void 0),void 0===p&&(p=Pg(d,u.type)??function(t,n){const[e,r]=b(t.range());return(r-e)/n}(u,y)),null==t){if(Bg(p))t=vg(p);else if(Ig(p))t=mx(p,...b(h));else if(u.interval){let n=u.interval;if(u.ticks){const[e,r]=b(h);n=Up(n,(r-e)/n[Np]/p)??n,t=mx(n,e,r)}else{n=Up(n,(t=h).length/p)??n,n!==u.interval&&(t=mx(n,...b(t)))}if(n===u.interval){const n=Math.round(t.length/p);n>1&&(t=t.filter(((t,e)=>e%n===0)))}}else t=u.ticks?u.ticks(p):h;if(!u.ticks&&t.length&&t!==h){const e=new v(h);(t=t.filter((t=>e.has(t)))).length||Eb(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[Ng(t)]:a[n]={scale:n,value:eg}}o?.call(this,u,t,p,g,a);const m=Object.fromEntries(Object.entries(a).map((n=>{let[e,r]=n;return[e,{...r,value:Zp(t,r.value)}]})));return s&&(e=f.filterFacets(t,m)),{data:t,facets:e,channels:m}}},c));return null==e?(a=l.channels,l.channels={}):a={},void 0!==r&&Object.assign(l,r),void 0===l.clip&&(l.clip=!1),l}function yx(t,n,e,r,i){return{value:bx(t,n,e,r,i)}}function bx(t,n,e,r,i){return"function"!==typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&Yg(n)?Ip(t.type,n,i)??Zm:t.tickFormat?t.tickFormat("number"===typeof e?e:null,r):void 0===r?Zm:"string"===typeof r?(Yg(t.domain())?Tf:Vr)(r):fg(r):r}function mx(t,n,e){return t.range(n,t.offset(t.floor(e)))}const vx={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},_x={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},xx={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},wx={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function kx(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Mx(t,n){let{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null==r||r.inferred&&Ax(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!n.bandwidth||n.interval)&&!/[\u2191\u2193\u2192\u2190]/.test(r)),!o)return r;if(!0===o){const e=function(t){return Math.sign(mp(t.domain()))*Math.sign(mp(t.range()))}(n);e&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(o){case"left":return`\u2190 ${r}`;case"right":return`${r} \u2192`;case"up":return"right"===e?`${r} \u2191`:`\u2191 ${r}`;case"down":return"right"===e?`${r} \u2193`:`\u2193 ${r}`}return r}}function $x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";return!Kg(t)&&("boolean"===typeof t?t:bg(t,"labelArrow",["auto","up","right","down","left"]))}function Ax(t){return Yg(t.domain())}function Tx(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function Sx(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,{columns:r,tickFormat:i,fontVariant:o=Iv(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:l=a,marginLeft:f=0,className:s,style:u,width:h}=n;const d=Um(n);s=gv(s),i=bx(t.scale,t.domain,void 0,i);const p=Pm("div",d).attr("class",`${s}-swatches ${s}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${s}-swatches-columns .${s}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${s}-swatches-columns .${s}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${s}-swatches-columns .${s}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,c,l).call((t=>t.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i)))):(g=`:where(.${s}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${s}-swatches-wrap .${s}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,c,l).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`:where(.${s}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${s}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`))).style("margin-left",f?+f+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",hv(o,"normal")).call(yv,u).node()}const Ex=new Map([["symbol",function(t){let{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:Kg(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const[f,s]=pg(n),[u,h]=pg(r),d=Tx(l,f),p=Tx(l,u),g=a*a*Math.PI;return e=gg(e)[1],i=gg(i)[1],o=gg(o)[1],Sx(t,c,((n,r,a,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",c).attr("fill","color"===f?t=>d.scale(t):s).attr("fill-opacity",e).attr("stroke","color"===u?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",(n=>{const e=Wc();return t.scale(n).draw(e,g),e}))))}],["color",Cx],["opacity",function(t,n){let{type:e,interpolate:r,...i}=t,{legend:o=!0,color:a=Re(0,0,0),...c}=n;if(!r)throw new Error(`${e} opacity scales are not supported`);!0===o&&(o="ramp");if("ramp"!==`${o}`.toLowerCase())throw new Error(`${o} opacity legends are not supported`);return Cx({type:e,...i,interpolate:Lx(a)},{legend:o,...c})}]]);function Nx(t){let{className:n,...e}=t,{label:r,ticks:i,tickFormat:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];for(const o of r)for(const e in o)if(void 0===n[e]){const r=o[e];n===t?n={...n,[e]:r}:n[e]=r}return n}(arguments.length>2?arguments[2]:void 0,{className:n,...e},{label:r,ticks:i,tickFormat:o})}function Cx(t,n){let{legend:e=!0,...r}=n;if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return function(t){let{opacity:n,...e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!cm(t)&&!lm(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Sx(t,e,((t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",gg(n)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,r);case"ramp":return qv(t,r);default:throw new Error(`unknown legend type: ${e}`)}}function Lx(t){const{r:n,g:e,b:r}=Re(t)||Re(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}function zx(t){let{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.insetTop=ag(e),t.insetRight=ag(r),t.insetBottom=ag(i),t.insetLeft=ag(o)}function Dx(t){let{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:c=n,rx1y1:l=(void 0!==i?+i:void 0!==o?+o:0),rx1y2:f=(void 0!==i?+i:void 0!==c?+c:0),rx2y1:s=(void 0!==a?+a:void 0!==o?+o:0),rx2y2:u=(void 0!==a?+a:void 0!==c?+c:0)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l||f||s||u?(t.rx1y1=l,t.rx1y2=f,t.rx2y1=s,t.rx2y2=u):(t.rx=hv(e,"auto"),t.ry=hv(r,"auto"))}function Ox(t,n,e,r,i,o){const{rx1y1:a,rx1y2:c,rx2y1:l,rx2y2:f}=o;"function"!==typeof n&&(n=fg(n)),"function"!==typeof e&&(e=fg(e)),"function"!==typeof r&&(r=fg(r)),"function"!==typeof i&&(i=fg(i));const s=Math.max(Math.abs(a+l),Math.abs(c+f)),u=Math.max(Math.abs(a+c),Math.abs(l+f));t.attr("d",(t=>{const o=n(t),h=e(t),d=r(t),p=i(t),g=o>d,y=h>p,b=g?d:o,m=g?o:d,v=y?p:h,_=y?h:p,x=Math.min(1,(m-b)/s,(_-v)/u),w=x*(g?y?f:l:y?c:a),k=x*(g?y?c:a:y?f:l),M=x*(g?y?a:c:y?l:f),$=x*(g?y?l:f:y?a:c);return`M${b},${v+jx(w,$)}A${w},${w} 0 0 ${w<0?0:1} ${b+Fx(w,$)},${v}H${m-Fx(k,M)}A${k},${k} 0 0 ${k<0?0:1} ${m},${v+jx(k,M)}V${_-jx(M,k)}A${M},${M} 0 0 ${M<0?0:1} ${m-Fx(M,k)},${_}H${b+Fx($,w)}A${$},${$} 0 0 ${$<0?0:1} ${b},${_-jx($,w)}Z`}))}function Fx(t,n){return n<0?t:Math.abs(t)}function jx(t,n){return n<0?Math.abs(t):t}const Rx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Ux={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Px extends Tv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{anchor:n=null}=t;super(Kp,void 0,t,null==n?Rx:Ux),this.anchor=yg(n,"anchor",["top","right","bottom","left"]),zx(this,t),n||Dx(this,t)}render(t,n,e,r,i){const{marginTop:o,marginRight:a,marginBottom:c,marginLeft:l,width:f,height:s}=r,{anchor:u,insetTop:h,insetRight:d,insetBottom:p,insetLeft:g}=this,{rx:y,ry:b,rx1y1:m,rx1y2:v,rx2y1:_,rx2y2:x}=this,w=l+g,k=f-a-d,M=o+h,$=s-c-p;return Pm(u?"svg:line":m||v||_||x?"svg:path":"svg:rect",i).datum(0).call(cv,this,r,i).call(lv,this).call(nv,this,e).call(uv,this,{}).call("left"===u?t=>t.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",$):"right"===u?t=>t.attr("x1",k).attr("x2",k).attr("y1",M).attr("y2",$):"top"===u?t=>t.attr("x1",w).attr("x2",k).attr("y1",M).attr("y2",M):"bottom"===u?t=>t.attr("x1",w).attr("x2",k).attr("y1",$).attr("y2",$):m||v||_||x?t=>t.call(Ox,w,M,k,$,this):t=>t.attr("x",w).attr("y",M).attr("width",k-w).attr("height",$-M).attr("rx",y).attr("ry",b)).node()}}const Ix={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},qx=new Set(["geometry","href","src","ariaLabel","scales"]);class Bx extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.tip&&(n={...n,tip:!1}),void 0===n.title&&Bg(t)&&Wg(t)&&(n={...n,title:eg});const{x:e,y:r,x1:i,x2:o,y1:a,y2:c,anchor:l,preferredAnchor:f="bottom",monospace:s,fontFamily:u=(s?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:d,fontVariant:p,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:m,format:v,textAnchor:_="start",textOverflow:x,textPadding:w=8,title:k,pointerSize:M=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=o?null:e,scale:"x",optional:!0},y:{value:null!=a&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==c},x2:{value:o,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==a},title:{value:k,optional:!0}},n,Ix),this.anchor=ny(l,"anchor"),this.preferredAnchor=ny(f,"preferredAnchor"),this.frameAnchor=ey(m),this.textAnchor=hv(_,"middle"),this.textPadding=+w,this.pointerSize=+M,this.pathFilter=og($),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=m_(x),this.monospace=!!s,this.fontFamily=og(u),this.fontSize=ag(h),this.fontStyle=og(d),this.fontVariant=og(p),this.fontWeight=og(g);for(const A in Ix)A in this.channels&&(this[A]=Ix[A]);this.splitLines=E_(this),this.clipLine=N_(this),this.format="string"===typeof v||"function"===typeof v?{title:v}:{...v}}render(t,n,e,r,i){const o=this,{x:a,y:c,fx:l,fy:f}=n,{ownerSVGElement:s,document:u}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:m}=this,{marginTop:v,marginLeft:_}=r,{x1:x,y1:w,x2:k,y2:M,x:$=x??k,y:A=w??M}=e,T=l?l(t.fx)-_:0,S=f?f(t.fy)-v:0,[E,N]=bv(this,r),C=Uv(e,E),L=Pv(e,N),z=d?S_:T_,D=z(C_);let O,F;"title"in e?(O=Hx.call(this,{title:e.channels.title},n),F=Vx):(O=Hx.call(this,e.channels,n),F=Xx);const j=Pm("svg:g",i).call(cv,this,r,i).call(k_,this).call(uv,this,{x:$&&a,y:A&&c}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(C(t))},${Math.round(L(t))})`)).call(lv,this).call((t=>t.append("path").attr("filter",m))).call((r=>r.append("text").each((function(r){const i=Ih(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=F.call(o,r,t,O,n,e);if("string"===typeof a)for(const t of o.splitLines(a))R(i,{value:o.clipLine(t)});else{const t=new Set;for(const n of a){const{label:e=""}=n;e&&t.has(e)||(t.add(e),R(i,n))}}}))))));function R(t,n){let{label:e,value:r,color:i,opacity:o}=n;e??="",r??="";const a=null!=i||null!=o;let c,l=100*g;const[f]=L_(e,l,z,D);if(f>=0)e=e.slice(0,f).trimEnd()+C_,c=r.trim(),r="";else{(e||!r&&!a)&&(r=" "+r);const[t]=L_(r,l-z(e),z,D);t>=0&&(c=r.trim(),r=r.slice(0,t).trimEnd()+C_)}const s=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("\u200b");e&&s.append("tspan").attr("font-weight","bold").text(e),r&&s.append((()=>u.createTextNode(r))),a&&s.append("tspan").text(" \u25a0").attr("fill",i).attr("fill-opacity",o).style("user-select","none"),c&&s.append("title").text(c)}function U(){const{width:t,height:n}=r.facet??r;j.selectChildren().each((function(e){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let c=h;if(void 0===c){const r=C(e)+T,l=L(e)+S,f=r+i+b+2*y<t,s=r-i-b-2*y>0,u=l+a+b+2*y<n,h=l-a-b-2*y>0;c=f&&s?u&&h?o.preferredAnchor:h?"bottom":"top":u&&h?f?"left":"right":(f||s)&&(u||h)?`${h?"bottom":"top"}-${f?"left":"right"}`:o.preferredAnchor}const l=this.firstChild,f=this.lastChild;if(l.setAttribute("d",function(t,n,e,r,i){const o=r+2*e,a=i+2*e;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}(c,b,y,i,a)),r)for(const t of f.childNodes)t.setAttribute("x",-r);f.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,f.childNodes.length,p).toFixed(6)+"em"),f.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,b,y,i,a)})`)})),j.attr("visibility",null)}return t.length&&(j.attr("visibility","hidden"),s.isConnected?Promise.resolve().then(U):"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(U)),j.node()}}function Wx(t){let{x:n,y:e,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===r.frameAnchor&&([n,e]=Tg(n,e)),new Bx(t,{...r,x:n,y:e})}function Hx(t,n){const e={};let r=this.format;r=Yx(r,t,"x"),r=Yx(r,t,"y"),this.format=r;for(const i in r){const n=r[i];if(null!==n&&!1!==n)if("fx"===i||"fy"===i)e[i]=!0;else{const n=Gy(t,i);n&&(e[i]=n)}}for(const i in t){if(i in e||i in r||qx.has(i))continue;if(("x"===i||"y"===i)&&t.geometry)continue;const n=Gy(t,i);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;e[i]=n}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const t=this.format[i];if("string"===typeof t){const r=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Yg(r)?Tf:Vr)(t)}else if(void 0===t||!0===t){const t=n[i];this.format[i]=t?.bandwidth?bx(t,t.domain()):Zm}}return e}function Yx(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex((t=>{let[n]=t;return n===e}))+1,0,[r,a],[i,a]),Object.fromEntries(o)}function Vx(t,n,e){let{title:r}=e;return this.format.title(r.value[t],t)}function*Xx(t,n,e,r,i){for(const o in e){if("fx"===o||"fy"===o){yield{label:Qx(r,e,o),value:this.format[o](n[o],t)};continue}if("x1"===o&&"x2"in e)continue;if("y1"===o&&"y2"in e)continue;const a=e[o];if("x2"===o&&"x1"in e)yield{label:Gx(r,e,"x"),value:Zx(this.format.x2,e.x1,a,t)};else if("y2"===o&&"y1"in e)yield{label:Gx(r,e,"y"),value:Zx(this.format.y2,e.y1,a,t)};else{const n=a.value[t],c=a.scale;if(!fp(n)&&null==c)continue;yield{label:Qx(r,e,o),value:this.format[o](n,t),color:"color"===c?i[o][t]:null,opacity:"opacity"===c?i[o][t]:null}}}}function Zx(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}\u2013${t(e.value[r],r)}`}function Gx(t,n,e){const r=Qx(t,n,`${e}1`,e),i=Qx(t,n,`${e}2`,e);return r===i?r:`${r}\u2013${i}`}function Qx(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function Jx(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:c}=t,l=gv(t.className),f=void 0===t.marks?[]:tw(t.marks);f.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"===typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?jv:/^y$/i.test(r)?Rv:Fv,t=r(fw(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===Rv?"left":"bottom");const o=Wx(e.data,t);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}(f));const s=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=mg(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=e&&(o.fx=Iy(i,{value:e,scale:"fx"}));null!=r&&(o.fy=Iy(i,{value:r,scale:"fy"}));rw(o,n);const a=pm(i,o);return{channels:o,groups:a,data:t.data}}(n,t),u=new Map;for(const U of f){const n=lw(U,s,t);n&&u.set(U,n)}const h=new Map;s&&aw(h,[s],t),aw(h,u,t);const d=tw(function(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:l,grid:f,facet:s={},facet:{axis:u=l,grid:h}=s,x:{axis:d=l,grid:p=(null===d?null:f)}=i,y:{axis:g=l,grid:y=(null===g?null:f)}=o,fx:{axis:b=u,grid:m=(null===b?null:h)}=a,fy:{axis:v=u,grid:_=(null===v?null:h)}=c}=e;(r||!Mg(i)&&!pw("x",t))&&(d=p=null);(r||!Mg(o)&&!pw("y",t))&&(g=y=null);n.has("fx")||(b=m=null);n.has("fy")||(v=_=null);void 0===d&&(d=!dw(t,"x"));void 0===g&&(g=!dw(t,"y"));void 0===b&&(b=!dw(t,"fx"));void 0===v&&(v=!dw(t,"fy"));!0===d&&(d="bottom");!0===g&&(g="left");!0===b&&(b="top"===d||null===d?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return uw(x,_,lx,c),sw(x,v,ex,"right","left",s,c),uw(x,m,sx,a),sw(x,b,ix,"top","bottom",s,a),uw(x,y,cx,o),sw(x,g,nx,"left","right",e,o),uw(x,p,fx,i),sw(x,d,rx,"bottom","top",e,i),x}(f,h,t));for(const U of d){const n=lw(U,s,t);n&&u.set(U,n)}f.unshift(...d);let p=dm(h,t);if(void 0!==p){const t=s?Am(p,s):void 0;for(const e of f){if(null===e.facet||"super"===e.facet)continue;const n=u.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?Am(p,n):t)}const n=new Set;for(const{facetsIndex:e}of u.values())e?.forEach(((t,e)=>{t?.length>0&&n.add(e)}));p.forEach(0<n.size&&n.size<p.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of f)if("exclude"===e.facet){const t=u.get(e);void 0!==t&&(t.facetsIndex=gm(t.facetsIndex))}}for(const U of py.keys())Mg(t[U])&&"fx"!==U&&"fy"!==U&&h.set(U,[]);const g=new Map;for(const U of f){if(g.has(U))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=u.get(U)??{},{data:r,facets:i,channels:o}=U.initialize(n,e,t);rw(o,t),g.set(U,{data:r,facets:i,channels:o})}const y=Vb(aw(h,g,t),t),b=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=.5-Gm,i=.5+Gm,o=.5+Gm,a=.5-Gm;for(const{marginTop:g,marginRight:y,marginBottom:b,marginLeft:m}of n)g>r&&(r=g),y>i&&(i=y),b>o&&(o=b),m>a&&(a=m);let{margin:c,marginTop:l=(void 0!==c?c:r),marginRight:f=(void 0!==c?c:i),marginBottom:s=(void 0!==c?c:o),marginLeft:u=(void 0!==c?c:a)}=e;l=+l,f=+f,s=+s,u=+u;let{width:h=640,height:d=Lv(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,l-r+s-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:l,marginRight:f,marginBottom:s,marginLeft:u};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:l),marginRight:r=(void 0!==t?t:f),marginBottom:i=(void 0!==t?t:s),marginLeft:o=(void 0!==t?t:u)}=e.facet??{};n=+n,r=+r,i=+i,o=+o,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:o}}return p}(y,f,t);!function(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Gb(n):n;i&&Jb(i,a),o&&Kb(o,a);const c=i||o?Qb(t,n):n;e&&Jb(e,c),r&&Kb(r,c)}(y,b);const m=Xb(y),{fx:v,fy:_}=m,x=v||_?Qb(y,b):b,w=v||_?function(t,n){let{fx:e,fy:r}=t;const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:c,width:l,height:f}=Gb(n),s=e&&gw(e),u=r&&gw(r);return{marginTop:r?u[0]:i,marginRight:e?l-s[1]:o,marginBottom:r?f-u[1]:a,marginLeft:e?s[0]:c,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:f}}(m,b):b,k=Um(t),M=k.document,$=gn("svg").call(M.documentElement);let A=$;k.ownerSVGElement=$,k.className=l,k.projection=Nm(t,x),k.filterFacets=(t,n)=>Am(p,{channels:n,groups:pm(t,n)}),k.getMarkState=t=>{const n=g.get(t),e=u.get(t);return{...n,channels:{...n.channels,...e?.channels}}},k.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[U,P]of g)if(null!=U.initializer){const n="super"===U.facet?w:x,e=U.initializer(P.data,P.facets,P.channels,m,n,k);if(void 0!==e.data&&(P.data=e.data),void 0!==e.facets&&(P.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;ow(i),Object.assign(P.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null!=n&&((S=py.get(n))!==cy&&S!==dy)&&(iw(e,t),T.add(n))}null==n&&null==r||u.set(U,!0)}}var S;if(T.size){const n=new Map;aw(n,g,t,(t=>T.has(t))),aw(h,g,t,(t=>T.has(t)));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(Vb(n,t),y),{scales:r,...i}=Xb(e);Object.assign(y,e),Object.assign(m,i),Object.assign(m.scales,r)}let E,N;void 0!==p&&(E={x:v?.domain(),y:_?.domain()},p=function(t,n){let{x:e,y:r}=n;return e&&=mm(e),r&&=mm(r),t.filter(e&&r?t=>e.has(t.x)&&r.has(t.y):e?t=>e.has(t.x):t=>r.has(t.y)).sort(e&&r?(t,n)=>e.get(t.x)-e.get(n.x)||r.get(t.y)-r.get(n.y):e?(t,n)=>e.get(t.x)-e.get(n.x):(t,n)=>r.get(t.y)-r.get(n.y))}(p,E),N=function(t,n,e){let{marginTop:r,marginLeft:i}=e;return t&&n?e=>{let{x:o,y:a}=e;return`translate(${t(o)-i},${n(a)-r})`}:t?n=>{let{x:e}=n;return`translate(${t(e)-i},0)`}:t=>{let{y:e}=t;return`translate(0,${n(e)-r})`}}(v,_,b));for(const[U,P]of g)P.values=U.scale(P.channels,m,k);const{width:C,height:L}=b;Ih($).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",L).attr("viewBox",`0 0 ${C} ${L}`).attr("aria-label",a).attr("aria-description",c).call((t=>t.append("style").text(`:where(.${l}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${l} text),\n:where(.${l} tspan) {\n  white-space: pre;\n}`))).call(yv,e);for(const U of f){const{channels:t,values:n,facets:e}=g.get(U);if(void 0===p||"super"===U.facet){let r=null;if(e&&(r=e[0],r=U.filter(r,t,n),0===r.length))continue;const i=U.render(r,m,n,w,k);if(null==i)continue;$.appendChild(i)}else{let r;for(const i of p){if(!(U.facetAnchor?.(p,E,i)??!i.empty))continue;let o=null;if(e){const r=u.has(U);if(o=e[r?i.i:0],o=U.filter(o,t,n),0===o.length)continue;r||o!==e[0]||(D=void 0,O=void 0,o=(z=o).subarray?z.subarray(D,O):z.slice(D,O)),o.fx=i.x,o.fy=i.y,o.fi=i.i}const a=U.render(o,m,n,x,k);if(null!=a){(r??=Ih($).append("g")).append((()=>a)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])a.hasAttribute(t)&&(r.attr(t,a.getAttribute(t)),a.removeAttribute(t))}}r?.selectChildren().attr("transform",N)}}var z,D,O;const F=function(t,n,e){const r=[];for(const[i,o]of Ex){const a=e[i];if(a?.legend&&i in t){const e=o(t[i],Nx(n,t[i],a),(n=>t[n]));null!=e&&r.push(e)}}return r}(y,k,t),{figure:j=null!=r||null!=i||null!=o||F.length>0}=t;j&&(A=M.createElement("figure"),A.className=`${l}-figure`,A.style.maxWidth="initial",null!=r&&A.append(Kx(M,r,"h2")),null!=i&&A.append(Kx(M,i,"h3")),A.append(...F,$),null!=o&&A.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}(M,o)),"value"in $&&(A.value=$.value,delete $.value)),A.scale=function(t){return n=>{if(!py.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(m.scales),A.legend=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(r,i)=>{if(!Ex.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Ex.get(r)(t[r],Nx(n,e[r],i),(n=>t[n]))}}(y,k,t);const R=function(){const t=Sb;return Sb=0,Tb=void 0,t}();return R>0&&Ih($).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26a0\ufe0f").append("title").text(`${R.toLocaleString("en-US")} warning${1===R?"":"s"}. Please check the console.`),A}function Kx(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function tw(t){return t.flat(1/0).filter((t=>null!=t)).map(nw)}function nw(t){return"function"===typeof t.render?t:new ew(t)}class ew extends Tv{constructor(t){if("function"!==typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function rw(t,n){for(const e in t)iw(t[e],n);return t}function iw(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:o,interval:a,transform:c=(o?t=>null==t?NaN:100*t:Rg(a,i))}=n[e]??{};null!=c&&(t.value=_g(t.value,c),t.transform=!1)}function ow(t){for(const n in t)qy(n,t[n])}function aw(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ig;for(const{channels:i}of n.values())for(const n in i){const o=i[n],{scale:a}=o;if(null!=a&&r(a))if("projection"===a){if(!jm(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=Rm(o);n&&cw(t,"x",e),r&&cw(t,"y",i)}}}else cw(t,a,o)}return t}function cw(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function lw(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=mg(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const o={};return null!=r&&(o.fx=Iy(n,{value:r,scale:"fx"})),null!=i&&(o.fy=Iy(n,{value:i,scale:"fy"})),rw(o,e),{channels:o,groups:pm(n,o)}}if(void 0===n)return;const{channels:o,groups:a,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&Eg(mg(t.data))===Eg(c)&&Eb(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function fw(t){return vv({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x:null,y:null},((n,e,r,i,o,a)=>a.getMarkState(t)))}function sw(t,n,e,r,i,o,a){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);a=function(t,n,e){let{line:r=n.line,ticks:i,tickSize:o,tickSpacing:a,tickPadding:c,tickFormat:l,tickRotate:f,fontVariant:s,ariaLabel:u,ariaDescription:h,label:d=n.label,labelAnchor:p,labelArrow:g=n.labelArrow,labelOffset:y}=e;return{anchor:t,line:r,ticks:i,tickSize:o,tickSpacing:a,tickPadding:c,tickFormat:l,tickRotate:f,fontVariant:s,ariaLabel:u,ariaDescription:h,label:d,labelAnchor:p,labelArrow:g,labelOffset:y}}(c?r:n,o,a);const{line:l}=a;e!==nx&&e!==rx||!l||ty(l)||t.push(function(t){return new Px(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(a))),t.push(e(a)),c&&t.push(e({...a,anchor:i,label:null}))}function uw(t,n,e,r){n&&!ty(n)&&t.push(e(function(t,n){let{stroke:e=(Qg(t)?t:void 0),ticks:r=(hw(t)?t:void 0),tickSpacing:i,ariaLabel:o,ariaDescription:a}=n;return{stroke:e,ticks:r,tickSpacing:i,ariaLabel:o,ariaDescription:a}}(n,r)))}function hw(t){switch(typeof t){case"number":return!0;case"string":return!Qg(t)}return Bg(t)||"function"===typeof t?.range}function dw(t,n){const e=`${n}-axis `;return t.some((t=>t.ariaLabel?.startsWith(e)))}function pw(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function gw(t){const n=t.domain();if(0===n.length)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const yw=new Map([["basis",function(t){return new Cd(t)}],["basis-closed",function(t){return new Ld(t)}],["basis-open",function(t){return new zd(t)}],["bundle",Fd],["bump-x",function(t){return new Dd(t,!0)}],["bump-y",function(t){return new Dd(t,!1)}],["cardinal",Ud],["cardinal-closed",Id],["cardinal-open",Bd],["catmull-rom",Yd],["catmull-rom-closed",Xd],["catmull-rom-open",Gd],["linear",Hh],["linear-closed",function(t){return new Qd(t)}],["monotone-x",function(t){return new ep(t)}],["monotone-y",function(t){return new rp(t)}],["natural",function(t){return new op(t)}],["step",function(t){return new cp(t,.5)}],["step-after",function(t){return new cp(t,1)}],["step-before",function(t){return new cp(t,0)}]]);function bw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hh,n=arguments.length>1?arguments[1]:void 0;if("function"===typeof t)return t;const e=yw.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(void 0!==n){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function mw(t){return Hh(t)}function vw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{y:"count"},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};[t,n]=kw(t,n);const{x:e,y:r}=n;return ww(Mw(e,n,eg),null,null,r,t,r_(n))}function _w(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e?.interval)return e;const{reduce:r=zy}=e,i={filter:null};return null!=e[n]&&(i[n]=r),null!=e[`${n}1`]&&(i[`${n}1`]=r),null!=e[`${n}2`]&&(i[`${n}2`]=r),t(i,e)}function xw(){return _w(vw,"y",Cv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"x"))}function ww(t,n,e,r){let{data:i=Ly,filter:o=Fy,sort:a,reverse:c,...l}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};t=$w(t),n=$w(n),l=function(t,n){return wy(t,n,Aw)}(l,f),i=Sw(i,eg),a=null==a?void 0:Aw("sort",a,f),o=null==o?void 0:Tw("filter",o,f),null!=e&&xy(l,"x","x1","x2")&&(e=null),null!=r&&xy(l,"y","y1","y2")&&(r=null);const[s,u]=Dg(t),[h,d]=Dg(t),[p,g]=Dg(n),[y,b]=Dg(n),[m,v]=null!=e?[e,"x"]:null!=r?[r,"y"]:[],[_,x]=Dg(m),{x:w,y:k,z:M,fill:$,stroke:A,x1:T,x2:S,y1:E,y2:N,domain:C,cumulative:L,thresholds:z,interval:D,...O}=f,[F,j]=Dg(M),[R]=pg($),[U]=pg(A),[P,I]=Dg(R),[q,B]=Dg(U);return{..."z"in f&&{z:F||M},..."fill"in f&&{fill:P||$},..."stroke"in f&&{stroke:q||A},...mv(O,((e,r,f)=>{const s=jg(Zp(e,m),f?.[v]),h=Zp(e,M),p=Zp(e,R),y=Zp(e,U),_=Sy(l,{z:h,fill:p,stroke:y}),w=[],k=[],$=s&&x([]),A=h&&j([]),T=p&&I([]),S=y&&B([]),E=t&&u([]),N=t&&d([]),C=n&&g([]),L=n&&b([]),z=function(t,n,e){const r=t?.(e),i=n?.(e);return r&&i?function*(t){const n=r.bin(t);for(const[o,[a,c]]of r.entries()){const t=i.bin(n[o]);for(const[n,[r,o]]of i.entries())yield[t[n],{data:e,x1:a,y1:r,x2:c,y2:o}]}}:r?function*(t){const n=r.bin(t);for(const[i,[o,a]]of r.entries())yield[n[i],{data:e,x1:o,x2:a}]}:function*(t){const n=i.bin(t);for(const[r,[o,a]]of i.entries())yield[n[r],{data:e,y1:o,y2:a}]}}(t,n,e);let D=0;for(const t of l)t.initialize(e);a&&a.initialize(e),o&&o.initialize(e);for(const t of r){const n=[];for(const e of l)e.scope("facet",t);a&&a.scope("facet",t),o&&o.scope("facet",t);for(const[r,c]of $y(t,_))for(const[t,f]of $y(c,s))for(const[c,u]of z(f))if(_&&(u.z=r),!o||o.reduce(c,u)){n.push(D++),k.push(i.reduceIndex(c,e,u)),s&&$.push(t),h&&A.push(_===h?r:h[(c.length>0?c:f)[0]]),p&&T.push(_===p?r:p[(c.length>0?c:f)[0]]),y&&S.push(_===y?r:y[(c.length>0?c:f)[0]]),E&&(E.push(u.x1),N.push(u.x2)),C&&(C.push(u.y1),L.push(u.y2));for(const t of l)t.reduce(c,u);a&&a.reduce(c,u)}w.push(n)}return Ey(w,a,c),{data:k,facets:w}})),...!xy(l,"x")&&(s?{x1:s,x2:h,x:Fg(s,h)}:{x:w,x1:T,x2:S}),...!xy(l,"y")&&(p?{y1:p,y2:y,y:Fg(p,y)}:{y:k,y1:E,y2:N}),..._&&{[v]:_},...Object.fromEntries(l.map((t=>{let{name:n,output:e}=t;return[n,e]})))}}function kw(t,n){let{cumulative:e,domain:r,thresholds:i,interval:o,...a}=t;return[a,{cumulative:e,domain:r,thresholds:i,interval:o,...n}]}function Mw(t,n,e){let{cumulative:r,domain:i,thresholds:o,interval:a}=n;return void 0===(t={...qg(t)}).domain&&(t.domain=i),void 0===t.cumulative&&(t.cumulative=r),void 0===t.thresholds&&(t.thresholds=o),void 0===t.interval&&(t.interval=a),void 0===t.value&&(t.value=e),t.thresholds=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nw;if(void 0===t)return void 0===n?e:Pg(n);if("string"===typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return P;case"scott":return I;case"sturges":return q;case"auto":return Nw}return jp(t)}return t}(t.thresholds,t.interval),t}function $w(t){if(null==t)return;const{value:n,cumulative:e,domain:r=b,thresholds:i}=t,o=t=>{let o,a=Zp(t,n);if(Yg(a)||(function(t){return Ig(t)&&"function"===typeof t?.floor&&t.floor()instanceof Date}(c=i)||Bg(c)&&Yg(c))){a=_g(a,dg,Float64Array);let[t,n]="function"===typeof r?r(a):r,e="function"!==typeof i||Ig(i)?i:i(a,t,n);"number"===typeof e&&(e=vf(t,n,e)),Ig(e)&&(r===b&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n))),o=e}else{a=sg(a);let[t,n]="function"===typeof r?r(a):r,e="function"!==typeof i||Ig(i)?i:i(a,t,n);if("number"===typeof e)if(r===b){let r=rt(t,n,e);if(isFinite(r))if(r>0){let i=Math.round(t/r),o=Math.round(n/r);i*r<=t||--i,o*r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)*r}else if(r<0){r=-r;let i=Math.round(t*r),o=Math.round(n*r);i/r<=t||--i,o/r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)/r}else e=[t];else e=[t]}else e=et(t,n,e);else Ig(e)&&(r===b&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n)));o=e}var c;const l=[];if(1===o.length)l.push([o[0],o[0]]);else for(let n=1;n<o.length;++n)l.push([o[n-1],o[n]]);return l.bin=(e<0?zw:e>0?Lw:Cw)(l,o,a),l};return o.label=Og(n),o}function Aw(t,n,e){return ky(t,n,e,Tw)}function Tw(t,n,e){return My(t,n,e,Sw)}function Sw(t,n){return Ay(t,n,Ew)}function Ew(t){switch(`${t}`.toLowerCase()){case"x":return Ow;case"x1":return jw;case"x2":return Rw;case"y":return Fw;case"y1":return Uw;case"y2":return Pw;case"z":return Py}throw new Error(`invalid bin reduce: ${t}`)}function Nw(t,n,e){return Math.min(200,I(t,n,e))}function Cw(t,n,e){return n=sg(n),r=>{const i=t.map((()=>[]));for(const t of r)i[s(n,e[t])-1]?.push(t);return i}}function Lw(t,n,e){const r=Cw(t,n,e);return t=>{const n=r(t);for(let e=1,r=n.length;e<r;++e){const t=n[e-1],r=n[e];for(const n of t)r.push(n)}return n}}function zw(t,n,e){const r=Cw(t,n,e);return t=>{const n=r(t);for(let e=n.length-2;e>=0;--e){const t=n[e+1],r=n[e];for(const n of t)r.push(n)}return n}}function Dw(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const Ow={reduceIndex(t,n,e){let{x1:r,x2:i}=e;return Dw(r,i)}},Fw={reduceIndex(t,n,e){let{y1:r,y2:i}=e;return Dw(r,i)}},jw={reduceIndex(t,n,e){let{x1:r}=e;return r}},Rw={reduceIndex(t,n,e){let{x2:r}=e;return r}},Uw={reduceIndex(t,n,e){let{y1:r}=e;return r}},Pw={reduceIndex(t,n,e){let{y2:r}=e;return r}};function Iw(){let{y:t,y1:n,y2:e,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=Cv(r,"x"),void 0===n&&void 0===e?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1===arguments.length&&([t,n]=qw(t));const{x1:e,x:r=e,y:i,...o}=n,[a,c,l,f]=Ww(r,i,"x","y",t,o);return{...a,x1:e,x:c,y1:l,y2:f,y:Fg(l,f)}}({y:t,...r}):([n,e]=function(t,n,e){return void 0===n&&void 0===e?(n=0,e=void 0===t?arguments.length>3&&void 0!==arguments[3]?arguments[3]:eg:t):void 0===n?n=void 0===t?0:t:void 0===e&&(e=void 0===t?0:t),[n,e]}(t,n,e),{...r,y1:n,y2:e})}function qw(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const Bw={length:!0};function Ww(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rg,e=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{offset:i,order:o,reverse:a}=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(null===n)throw new Error(`stack requires ${r}`);const l=Sg(c),[f,s]=Dg(t),[u,h]=zg(n),[d,p]=zg(n);return u.hint=d.hint=Bw,i=function(t){if(null==t)return;if("function"===typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return Yw;case"center":case"silhouette":return Vw;case"wiggle":return Xw}throw new Error(`unknown offset: ${t}`)}(i),o=function(t,n,e){if(void 0===t&&n===Xw)return Qw(sp);if(null==t)return;if("string"===typeof t){const n=t.startsWith("-"),r=n?up:sp;switch((n?t.slice(1):t).toLowerCase()){case"value":case e:return function(t){return(n,e,r)=>(n,e)=>t(r[n],r[e])}(r);case"z":return function(t){return(n,e,r,i)=>(n,e)=>t(i[n],i[e])}(r);case"sum":return function(t){return tk(t,((t,n,e,r)=>L(Ng(t),(t=>Q(t,(t=>e[t]))),(t=>r[t]))))}(r);case"appearance":return function(t){return tk(t,((t,n,e,r)=>L(Ng(t),(t=>n[G(t,(t=>e[t]))]),(t=>r[t]))))}(r);case"inside-out":return Qw(r)}return Jw(tg(t))}if("function"===typeof t)return(1===t.length?Jw:Kw)(t);if(Hp(t))return r=t,tk(sp,(()=>r));var r;throw new Error(`invalid order: ${t}`)}(o,i,r),[mv(c,((r,c,f)=>{({data:r,facets:c}=function(t,n){if(1===n.length)return{data:t,facets:n};const e=Eg(t),r=new Uint8Array(e);let i=0;for(const c of n)for(const t of c)r[t]&&++i,r[t]=1;if(0===i)return{data:t,facets:n};const o=(t=xg(t))[Xp]=new Uint32Array(e+i);n=n.map((t=>xg(t,Uint32Array)));let a=e;r.fill(0);for(const c of n)for(let n=0,e=c.length;n<e;++n){const e=c[n];r[e]?(c[n]=a,t[a]=t[e],o[a]=e,++a):o[e]=e,r[e]=1}return{data:t,facets:n}}(r,c));const u=null==t?void 0:s(jg(Zp(r,t),f?.[e])),d=Zp(r,n,Float64Array),g=Zp(r,l),y=o&&o(r,u,d,g),b=Eg(r),m=h(new Float64Array(b)),v=p(new Float64Array(b)),_=[];for(const t of c){const n=u?Array.from($(t,(t=>u[t])).values()):[t];if(y)for(const t of n)t.sort(y);for(const t of n){let n=0,e=0;a&&t.reverse();for(const r of t){const t=d[r];t<0?n=v[r]=(m[r]=n)+t:t>0?e=v[r]=(m[r]=e)+t:v[r]=m[r]=e}}_.push(n)}return i&&i(_,m,v,g),{data:r,facets:c}})),f,u,d]}function Hw(t,n){let e=0,r=0;for(const i of t){const t=n[i];t<e&&(e=t),t>r&&(r=t)}return[e,r]}function Yw(t,n,e){for(const r of t)for(const t of r){const[r,i]=Hw(t,e);for(const o of t){const t=1/(i-r||1);n[o]=t*(n[o]-r),e[o]=t*(e[o]-r)}}}function Vw(t,n,e){for(const r of t){for(const t of r){const[r,i]=Hw(t,e);for(const o of t){const t=(i+r)/2;n[o]-=t,e[o]-=t}}Zw(r,n,e)}Gw(t,n,e)}function Xw(t,n,e,r){for(const i of t){const t=new m;let o=0;for(const a of i){let i=-1;const c=a.map((t=>Math.abs(e[t]-n[t]))),l=a.map((o=>{i=r?r[o]:++i;const a=e[o]-n[o],c=t.has(i)?a-t.get(i):0;return t.set(i,a),c})),f=[0,...p(l)];for(const t of a)n[t]+=o,e[t]+=o;const s=Q(c);s&&(o-=Q(c,((t,n)=>(l[n]/2+f[n])*t))/s)}Zw(i,n,e)}Gw(t,n,e)}function Zw(t,n,e){const r=O(t,(t=>O(t,(t=>n[t]))));for(const i of t)for(const t of i)n[t]-=r,e[t]-=r}function Gw(t,n,e){const r=t.length;if(1===r)return;const i=t.map((t=>t.flat())),o=i.map((t=>(O(t,(t=>n[t]))+D(t,(t=>e[t])))/2)),a=O(o);for(let c=0;c<r;c++){const t=a-o[c];for(const r of i[c])n[r]+=t,e[r]+=t}}function Qw(t){return tk(t,((t,n,e,r)=>{const i=Ng(t),o=L(i,(t=>n[G(t,(t=>e[t]))]),(t=>r[t])),a=A(i,(t=>Q(t,(t=>e[t]))),(t=>r[t])),c=[],l=[];let f=0;for(const s of o)f<0?(f+=a.get(s),c.push(s)):(f-=a.get(s),l.push(s));return l.reverse().concat(c)}))}function Jw(t){return n=>{const e=Zp(n,t);return(t,n)=>sp(e[t],e[n])}}function Kw(t){return n=>Hp(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function tk(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new m(n(e,r,i,o).map(((t,n)=>[t,n])));return(n,e)=>t(a.get(o[n]),a.get(o[e]))}}const nk={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ek extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x1:e,y1:r,x2:i,y2:o,z:a,curve:c,tension:l}=n;super(t,{x1:{value:e,scale:"x"},y1:{value:r,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0},z:{value:Sg(n),optional:!0}},n,nk),this.z=a,this.curve=bw(c,l)}filter(t){return t}render(t,n,e,r,i){const{x1:o,y1:a,x2:c=o,y2:l=a}=e;return Pm("svg:g",i).call(cv,this,r,i).call(uv,this,n,0,0).call((n=>n.selectAll().data(rv(t,[o,a,c,l],this,e)).enter().append("path").call(lv,this).call(ev,this,e).attr("d",function(t,n,e){var r=null,i=Bh(!0),o=null,a=Hh,c=null,l=Yh(f);function f(f){var s,u,h,d,p,g=(f=qh(f)).length,y=!1,b=new Array(g),m=new Array(g);for(null==o&&(c=a(p=l())),s=0;s<=g;++s){if(!(s<g&&i(d=f[s],s,f))===y)if(y=!y)u=s,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=s-1;h>=u;--h)c.point(b[h],m[h]);c.lineEnd(),c.areaEnd()}y&&(b[s]=+t(d,s,f),m[s]=+n(d,s,f),c.point(r?+r(d,s,f):b[s],e?+e(d,s,f):m[s]))}if(p)return c=null,p+""||null}function s(){return Zh().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?Vh:Bh(+t),n="function"===typeof n?n:Bh(void 0===n?0:+n),e="function"===typeof e?e:void 0===e?Xh:Bh(+e),f.x=function(n){return arguments.length?(t="function"===typeof n?n:Bh(+n),r=null,f):t},f.x0=function(n){return arguments.length?(t="function"===typeof n?n:Bh(+n),f):t},f.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Bh(+t),f):r},f.y=function(t){return arguments.length?(n="function"===typeof t?t:Bh(+t),e=null,f):n},f.y0=function(t){return arguments.length?(n="function"===typeof t?t:Bh(+t),f):n},f.y1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:Bh(+t),f):e},f.lineX0=f.lineY0=function(){return s().x(t).y(n)},f.lineY1=function(){return s().x(t).y(e)},f.lineX1=function(){return s().x(r).y(n)},f.defined=function(t){return arguments.length?(i="function"===typeof t?t:Bh(!!t),f):i},f.curve=function(t){return arguments.length?(a=t,null!=o&&(c=a(o)),f):a},f.context=function(t){return arguments.length?(null==t?o=c=null:c=a(o=t),f):o},f}().curve(this.curve).defined((t=>t>=0)).x0((t=>o[t])).y0((t=>a[t])).x1((t=>c[t])).y1((t=>l[t]))))).node()}}function rk(t,n){const{x:e=ng,...r}=xw(n);return new ek(t,Iw(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wg(t)?t:{...t,y:eg}}({...r,x1:e,x2:void 0})))}const ik={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ok extends Tv{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{x:e,y:r,z:i,curve:o,tension:a}=n;super(t,{x:{value:e,scale:"x"},y:{value:r,scale:"y"},z:{value:Sg(n),optional:!0}},n,ik),this.z=i,this.curve=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mw,n=arguments.length>1?arguments[1]:void 0;return"function"!==typeof t&&"auto"===`${t}`.toLowerCase()?mw:bw(t,n)}(o,a),Wv(this,n)}filter(t){return t}project(t,n,e){this.curve!==mw&&super.project(t,n,e)}render(t,n,e,r,i){const{x:o,y:a}=e,{curve:c}=this;return Pm("svg:g",i).call(cv,this,r,i).call(uv,this,n).call((n=>n.selectAll().data(rv(t,[o,a],this,e)).enter().append("path").call(lv,this).call(ev,this,e).call(Kv,this,e,i).attr("d",c===mw&&i.projection?function(t,n,e){const r=Bo(t);return n=sg(n),e=sg(e),t=>{let i=[];const o=[i];for(const r of t)-1===r?(i=[],o.push(i)):i.push([n[r],e[r]]);return r({type:"MultiLineString",coordinates:o})}}(i.projection,o,a):Zh().curve(c).defined((t=>t>=0)).x((t=>o[t])).y((t=>a[t]))))).node()}}function ak(t){let{x:n=ng,y:e=eg,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ok(t,xw({...r,x:n,y:e}))}Tv.prototype.plot=function(){let{marks:t=[],...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jx({...n,marks:[...t,this]})}}}]);
//# sourceMappingURL=691.5c11946b.chunk.js.map